Lyte.Component.register("dots-loading",{_template:'<template tag-name="dots-loading">\n\t<div class="loading-wrap {{if(whiteDots, \'white-dots\')}} {{if(supportNightMode, \'support-night-mode\')}}">\n\n\t\t<div id="dot-one" style="width : {{circleDiameter}}; height : {{circleDiameter}}" class="each-dot">\n\t\t</div>\n\n\t\t<div id="dot-two" style="width : {{circleDiameter}};height : {{circleDiameter}}" class="each-dot">\n\t\t</div>\n\n\t\t<div id="dot-three" style="width : {{circleDiameter}};height : {{circleDiameter}}" class="each-dot">\n\t\t</div>\n\n\t</div>\n</template>\n<style>.loading-wrap {\n\tposition: absolute;\n\ttop : 0;\n    left: 0;\n    right : 0;\n    bottom: 0;\n\twidth : 50px;\n\theight: 6px;\n\tmargin: auto;\n}\n\n.loading-wrap .each-dot {\n\tbackground-color: #000000;\n\tposition: absolute;\n\tborder-radius: 50%;\n\twidth: 7px;\n\theight: 7px;\n\n\t-webkit-animation: loading-dots 1.3s infinite;\n\t-webkit-animation-fill-mode: both;\n\n\t-o-animation: loading-dots 1.3s infinite;\n\t-o-animation-fill-mode: both;\n\n\t-moz-animation: loading-dots 1.3s infinite;\n\t-moz-animation-fill-mode: both;\n\n\tanimation: loading-dots 1.3s infinite;\n\tanimation-fill-mode: both;\n}\n\n.night-mode .support-night-mode .each-dot, .contrast-mode .support-night-mode .each-dot {\n    background-color: #FFFFFF;\n}\n\n\n\n.loading-wrap.white-dots .each-dot {\n    background-color: #FFFFFF;\n}\n\n#dot-one {\n\tleft : 0;\n\ttop : 0;\n}\n\n#dot-two {\n\tleft : 17px;\n\ttop : 0;\n\t-o-animation-delay: 0.3s;\n\t-moz-animation-delay: 0.3s;\n\t-webkit-animation-delay: 0.3s;\n\tanimation-delay: 0.3s;\n}\n\n#dot-three {\n\tleft : 34px;\n\t-o-animation-delay: 0.5s;\n\t-moz-animation-delay: 0.5s;\n\t-webkit-animation-delay: 0.5s;\n\tanimation-delay: 0.5s;\n}\n\n@-webkit-keyframes loading-dots {\n\t0% {\n\t\t-webkit-transform: scale(1);\n    \t-moz-transform: scale(1);\n    \t-ms-transform: scale(1);\n    \t-o-transform: scale(1);\n    \ttransform: scale(1);\n\t}\n\t20% {\n\t\t-webkit-transform: scale(1.3);\n    \t-moz-transform: scale(1.3);\n    \t-ms-transform: scale(1.3);\n    \t-o-transform: scale(1.3);\n    \ttransform: scale(1.3);\n\t}\n\t50% {\n\t\t-webkit-transform: scale(1);\n    \t-moz-transform: scale(1);\n    \t-ms-transform: scale(1);\n    \t-o-transform: scale(1);\n    \ttransform: scale(1);\n\t}\n}\n\n@-moz-keyframes loading-dots {\n\t0% {\n\t\t-webkit-transform: scale(1);\n    \t-moz-transform: scale(1);\n    \t-ms-transform: scale(1);\n    \t-o-transform: scale(1);\n    \ttransform: scale(1);\n\t}\n\t20% {\n\t\t-webkit-transform: scale(1.3);\n    \t-moz-transform: scale(1.3);\n    \t-ms-transform: scale(1.3);\n    \t-o-transform: scale(1.3);\n    \ttransform: scale(1.3);\n\t}\n\t50% {\n\t\t-webkit-transform: scale(1);\n    \t-moz-transform: scale(1);\n    \t-ms-transform: scale(1);\n    \t-o-transform: scale(1);\n    \ttransform: scale(1);\n\t}\n}\n\n@-o-keyframes loading-dots {\n\t0% {\n\t\t-webkit-transform: scale(1);\n    \t-moz-transform: scale(1);\n    \t-ms-transform: scale(1);\n    \t-o-transform: scale(1);\n    \ttransform: scale(1);\n\t}\n\t20% {\n\t\t-webkit-transform: scale(1.3);\n    \t-moz-transform: scale(1.3);\n    \t-ms-transform: scale(1.3);\n    \t-o-transform: scale(1.3);\n    \ttransform: scale(1.3);\n\t}\n\t50% {\n\t\t-webkit-transform: scale(1);\n    \t-moz-transform: scale(1);\n    \t-ms-transform: scale(1);\n    \t-o-transform: scale(1);\n    \ttransform: scale(1);\n\t}\n}\n\n@keyframes loading-dots {\n\t0% {\n\t\t-webkit-transform: scale(1);\n    \t-moz-transform: scale(1);\n    \t-ms-transform: scale(1);\n    \t-o-transform: scale(1);\n    \ttransform: scale(1);\n\t}\n\t20% {\n\t\t-webkit-transform: scale(1.3);\n    \t-moz-transform: scale(1.3);\n    \t-ms-transform: scale(1.3);\n    \t-o-transform: scale(1.3);\n    \ttransform: scale(1.3);\n\t}\n\t50% {\n\t\t-webkit-transform: scale(1);\n    \t-moz-transform: scale(1);\n    \t-ms-transform: scale(1);\n    \t-o-transform: scale(1);\n    \ttransform: scale(1);\n\t}\n}\n</style>',_dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'width : '","circleDiameter","'; height : '","circleDiameter"]}}}},{type:"attr",position:[1,3],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'width : '","circleDiameter","';height : '","circleDiameter"]}}}},{type:"attr",position:[1,5],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'width : '","circleDiameter","';height : '","circleDiameter"]}}}}],_observedAttributes:["backgroundColor","whiteDots","supportNightMode"],data:function(){return{backgroundColor:Lyte.attr("string",{default:""}),whiteDots:Lyte.attr("boolean",{default:!1}),supportNightMode:Lyte.attr("boolean",{default:!1})}},bgColorObserver:function(){let t=this.getData("backgroundColor");var e=!1;"#ffffff"===getTextColor(t).toLowerCase()&&(e=!0),this.setData("whiteDots",e)}.observes("backgroundColor").on("init")}),Lyte.Component.register("editor-container",{_template:'<template tag-name="editor-container">\n    <template is="if" value="{{expHandlers(hideHeader,\'!\')}}"><template case="true">\n        <div id="top-bar">\n            <div class="notebook-icon">\n                <div id="notebook-logo"></div>               \n            </div>\n            <div id="modified-time-wrap">\n                <div id="modified-time-div">\n                    {{translate("generalOption.lastEdited")}} : {{format-date(notecard.modified_time, \'notecard_grid\')}}\n                </div>\n                <div id="refresh-icon" onclick="{{action(\'refreshContent\')}}" ontouchstart="{{action(\'refreshContent\')}}"></div>\n            </div>\n        </div>\n    </template></template>\n        <div class="spread-parent editor-shadow {{if(hideHeader,\'top-0\',\'top-normal\')}}" style="{{background-color-style(notecard.color, defaultColor)}}">\n                <template is="component" component-name="{{editorType}}" notecard="{{lbind(notecard)}}" text-color-black="{{textColorBlack}}">\n                </template>\n        </div>\n    <alert-box>\n    </alert-box>\n\n    <div id="toast-message">\n        <div id="toast-message-text"></div>\n    </div>\n    <template is="if" value="{{expHandlers(hideHeader,\'!\')}}"><template case="true">\n        <div id="report-container" onclick="{{action(\'reportAbuse\')}}">\n            <div id="report-icon"></div>\n            <div id="report-label">{{translate("generalOption.reportAbuse")}}</div>\n        </div>\n    </template></template>\n    <template is="if" value="{{showReportAbuse}}"><template case="true">\n        <report-abuse-dialog></report-abuse-dialog>\n    </template></template>\n</template>\n<style>html,body {\n    /* overflow: hidden; */\n    font-family: \'Lato\';\n    position: relative;\n    height: 100%;\n    width: 100%;\n    margin: 0;\n}\n\n#outlet a {\n    text-decoration: underline;\n    cursor: pointer;\n    color: inherit!important;\n    font-style: italic;\n}\n\n.transparent-overlay {\n    z-index: 11;\n}\n\n.imgWrapperDiv img{\n    max-width : 100%;\n    max-height: 100%;\n}\n\n\n.editor-space {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    margin-left: 10%;\n    margin-right: 10%;\n    overflow: auto;\n}\n\n\n.spread-parent {\n    position: absolute;\n    left: 15%;\n    right: 15%;\n    bottom: 0;\n    z-index: 10;\n}\n\n.spread-parent.top-normal {\n    top: 80px;\n}\n\n.spread-parent.top-0{\n    top : 0px;\n}\n\n.add-new-text {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    text-align: center;\n    line-height: 40px;\n    font-size: 18px;\n    margin-top: -30px;\n\n    -webkit-transform: translate(-50%, -50%);\n    -moz-transform: translate(-50%, -50%);\n    -ms-transform: translate(-50%, -50%);\n    -o-transform: translate(-50%, -50%);\n    transform: translate(-50%, -50%);\n}\n\n.editor-body {\n    position: absolute;\n    top: 60px;\n    bottom: 40px;\n    left: 0;\n    right: 0;\n}\n\n.editor-footer {\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    min-height: 40px;\n    text-align: center;\n /*   border-top: solid 1px rgba(255, 255, 255, 0.2);*/\n}\n\n.editor-body .dragoverlay {\n    background-color: transparent;\n    border: 1.5px dashed #212121;\n    opacity: 0;\n    visibility: hidden;\n\n    -webkit-transition: all 300ms ease-out;\n    -moz-transition: all 300ms ease-out;\n    -o-transition: all 300ms ease-out;\n    -ms-transition: all 300ms ease-out;\n    transition: all 300ms ease-out;\n}\n\n.editor-body .dragoverlay.white-border {\n    border: 1.5px dashed #FFFFFF;\n}\n\n.editor-body .dragoverlay.show {\n    opacity: 1;\n    visibility: visible;\n}\n\n.card-title {\n    position: absolute;\n    top: 24px;\n    left: 10%;\n    right: 10%;\n    height: 40px;\n    text-align: center;\n\tfont-size: 22px;\n    line-height: 40px;\n    font-family: \'Noto Sans\', sans-serif;\n    font-weight: bold;\n}\n\n.card-title div {\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n}\n\n.content {\n    position: absolute;\n    top: 80px;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    font-size: 18px;\n    overflow: auto;\n    padding-bottom: 40px;\n    line-height: 1.75em;\n    word-break: break-word;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    -webkit-overflow-scrolling: touch;\n}\n\n.content::-webkit-scrollbar{\n    display:none;\n    /*Safari and Chrome;*/\n}\n\n.checklist-content {\n    left: 0;\n    padding-right: 0;\n    padding-bottom: 0;\n}\n\n.content p:not(.zne-block p),\n.content th:not(.zne-block th),\n.content td:not(.zne-block td),\n.content dd:not(.zne-block dd),\n.content dt:not(.zne-block dt),\n.content blockquote:not(.zne-block blockquote),\n.content q:not(.zne-block q),\n.content acronym:not(.zne-block acronym),\n.content abbr:not(.zne-block abbr),\n.content a:not(.zne-block a) {\n    margin-top: 1em;\n\tmargin-bottom: 1em;\n}\n\n.content ul:not(.zne-block ul), .content ol:not(.zne-block ol) {\n\t -webkit-margin-before: 1em;\n\t -webkit-margin-after: 1em;\n\t -webkit-margin-start: 0px;\n\t -webkit-margin-end: 0px;\n\t /*-webkit-padding-start: 40px;*/\n}\n\n#close-versions {\n    position: absolute;\n    top: 16px;\n    right: 16px;\n    z-index: 25;\n}\n.editor-overlay {\n    z-index: 9;\n}\n\n.strikethrough {\n    text-decoration: line-through;\n}\n\n.dimmer {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background-color: rgba(0, 0, 0, 0.5);\n    visibility: hidden;\n    opacity: 0;\n\n    -webkit-transition: all 300ms ease-out;\n    -moz-transition: all 300ms ease-out;\n    -o-transition: all 300ms ease-out;\n    -ms-transition: all 300ms ease-out;\n    transition: all 300ms ease-out;\n}\n\n.checkBox {\n\tmargin: 0.4em 8px 0 0!important;\n    width: 12px;\n    height: 12px;\n    display: inline-block!important;\n    -webkit-appearance: none;\n    appearance: none;\n    -moz-appearance: none;\n    background-image: url("../icon-assets/checkbox-sprite.png");\n    background-size: 24px 24px;\n    cursor: pointer;\n}\n\n.checkBox {\n    background-image: url("../icon-assets/checkbox-sprite@2x.png");\n}\n\n.checkBox:checked {\n\tbackground-position: 0px -12px!important;\n\topacity: 0.6;\n}\n\n.checked {\n\tbackground-position: 0px -12px!important;\n}\n.white-checkbox {\n\tbackground-position: -12px 0px!important;\n}\n\n.white-checkbox.checked {\n\tbackground-position: -12px -12px!important;\n}\n\n.white-checkbox:checked {\n\tbackground-position: -12px -12px!important;\n}\n\n.checkBox:checked + *{\n\topacity: 0.6;\n}\n\n.image-editor-wrap {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n}\n\n#modified-time-wrap {\n    position: absolute;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    font-size: 14px;\n    color: #666;\n}\n\n#modified-time-div {\n    display: inline-block;\n    line-height: 48px;\n    height: 48px;\n    vertical-align: top;\n}\n\n#refresh-icon {\n    background-image: url("../icon-assets/public-icn-refresh.png");\n    background-size: 24px 24px;\n    cursor: pointer;\n    height: 24px;\n    width: 24px;\n    position: relative;\n    display: inline-block;\n    margin: 12px 8px;\n}\n\n#report-icon {\n    background-image: url("../icon-assets/icn-flag-abuse.png");\n    background-size: 16px;\n    cursor: pointer;\n    height: 16px;\n    width: 16px;\n    position: relative;\n    margin: 12px 0 12px 12px;\n    display: inline-block;\n}\n\n.editor-shadow {\n    -webkit-box-shadow: 0 1px 2px 0 rgba(0,0,0,0.25);\n    box-shadow: 0 1px 2px 0 rgba(0,0,0,0.25);\n    -moz-box-shadow: 0 1px 2px 0 rgba(0,0,0,0.25);\n}\n\n.zero-top {\n    top: 8px;\n}\n\n#report-container {\n    background-color: white;\n    height: 40px;\n    position: fixed;\n    right: 24px;\n    bottom: 30px;\n    font-size: 16px;\n    cursor: pointer;\n    box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.15);\n    border-radius: 5px;\n    z-index: 10;\n}\n\n#report-label {\n    line-height: 40px;\n    display: inline-block;\n    vertical-align: top;\n    margin: 0 12px 0 4px;\n    font-size: 14px;\n}\n\n@media only screen and (min--moz-device-pixel-ratio: 2),\n\t   only screen and (-o-min-device-pixel-ratio: 2/1),\n\t   only screen and (-webkit-min-device-pixel-ratio: 2),\n\t   only screen and (min-device-pixel-ratio: 2)  {\n\n   #report-icon {\n       background-image: url("../icon-assets/icn-flag-abuse@2x.png");\n\t}\n\n    #refresh-icon {\n        background-image: url("../icon-assets/public-icn-refresh@2x.png");\n    }\n\n}\n\n/* Smartphones ----------- */\n@media screen and (max-device-width : 767px) {\n    body {\n        -webkit-overflow-scrolling: touch;\n    }\n\n    .spread-parent {\n        left: 0!important;\n        right: 0!important;\n    }\n\n    .spread-parent.top-normal {\n        top: 48px!important;\n        bottom: 48px!important;\n    }\n\n    .spread-parent.top-0{\n        top : 0px!important;\n        bottom: 0px!important;\n    }\n\n    #checklist-editor {\n        margin-left: 24px!important;\n        margin-right: 24px!important;\n    }\n\n    #report-container {\n        position: fixed;\n        left: 0;\n        right: 0;\n        border-radius: unset;\n        bottom: 0;\n        text-align: center;\n        background-color: #f7f7f7;\n    }\n\n    #file-editor, #bookmark-editor {\n        bottom: 40px!important;\n    }\n\n    .content, #checklist-editor-div, #bookmark-editor {\n        overflow: unset!important;\n    }\n\n    .editor-shadow {\n        -webkit-box-shadow: none!important;\n        box-shadow: none!important;\n        -moz-box-shadow: none!important;\n    }\n\n    #checked-checkbox-array {\n        padding-bottom: 48px!important;\n    }\n\n}\n\n/* iPads (portrait) ----------- */\n@media (min-device-width: 768px) and (orientation: portrait) {\n\n    .spread-parent {\n        left: 0!important;\n        right: 0!important;\n    }\n\n    .spread-parent.top-normal {\n        top: 48px!important;\n        bottom: 48px!important;\n    }\n\n    .spread-parent.top-0{\n        top : 0px!important;\n        bottom: 0px!important;\n    }\n\n    #checklist-editor {\n        margin-left: 24px!important;\n        margin-right: 24px!important;\n    }\n\n    #report-container {\n        position: fixed;\n        left: 0;\n        right: 0;\n        border-radius: unset;\n        bottom: 0;\n        text-align: center;\n        background-color: #f7f7f7;\n    }\n\n    #file-editor, #bookmark-editor {\n        bottom: 40px!important;\n    }\n\n    .content, #checklist-editor-div, #bookmark-editor {\n        overflow: unset!important;\n    }\n\n    body {\n        -webkit-overflow-scrolling: touch;\n    }\n\n    .editor-shadow {\n        -webkit-box-shadow: none!important;\n        box-shadow: none!important;\n        -moz-box-shadow: none!important;\n    }\n\n    #checked-checkbox-array {\n        padding-bottom: 48px!important;\n    }\n\n}\n</style>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"text",position:[1,3,1,1]},{type:"text",position:[1,3,1,3]},{type:"attr",position:[1,3,3]}]}},default:{}},{type:"attr",position:[3],attr:{style:{name:"style",helperInfo:{name:"background-color-style",args:["notecard.color","defaultColor"]}}}},{type:"attr",position:[3,1]},{type:"component",position:[3,1],dynamicNodes:[]},{type:"componentDynamic",position:[5]},{type:"attr",position:[9]},{type:"if",position:[9],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,3,0]}]}},default:{}},{type:"attr",position:[11]},{type:"if",position:[11],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[1]}]}},default:{}}],_observedAttributes:["notecard","hideClose","annotatingImage","isImageCard","isCheckListCard","isAudioCard","isFileCard","notebooksList","descriptionText","refreshEditor","showParentBook","editorType","defaultColor","textColorBlack","textColor","showReportAbuse","hideHeader"],data:function(){return{notecard:Lyte.attr("object",{default:{}}),hideClose:Lyte.attr("boolean",{default:!1}),annotatingImage:Lyte.attr("boolean",{default:!1}),isImageCard:Lyte.attr("boolean",{default:!1}),isCheckListCard:Lyte.attr("boolean",{default:!1}),isAudioCard:Lyte.attr("boolean",{default:!1}),isFileCard:Lyte.attr("boolean",{default:!1}),notebooksList:Lyte.attr("string",{default:""}),descriptionText:Lyte.attr("string",{default:""}),refreshEditor:Lyte.attr("boolean",{default:!1}),showParentBook:Lyte.attr("boolean",{default:!1}),editorType:Lyte.attr("string",{default:"text-note-view"}),defaultColor:Lyte.attr("string",{default:""}),textColorBlack:Lyte.attr("boolean",{default:!1}),textColor:Lyte.attr("string",{default:""}),showReportAbuse:Lyte.attr("boolean",{default:!1}),hideHeader:Lyte.attr("boolean",{default:!1})}},editorTypeObserver:function(){var t="text-note-view",e=this.getData("notecard").type,n="";switch(e){case"note/text":t="text-note-view";break;case"note/image":case"note/document":n="#333333","note/document"===e&&(n="#FFFFFF"),t="image-note-view";break;case"note/checklist":t="checklist-note-view";break;case"note/file":n="#FFFFFF",t="file-note-view";break;case"note/video":n="#333333",t="video-note-view";break;case"note/audio":t="audio-note-view";break;case"note/sketch":n="#FFFFFF",t="sketch-note-view";break;case"note/bookmark":n="#FFFFFF",t="bookmark-note-view";break;case"note/contact":t="contact-note-view"}this.setData("defaultColor",n),this.setData("editorType",t)}.observes("notecard.type").on("init"),notecardColorObserver:function(){var t,e=this.getData("notecard"),n=this.getData("defaultColor");isValidString(n)||(n=e.color),void 0!==n&&(n=n.toLowerCase());var i=getTextColor(n);t="#ffffff"!==i,this.setData("textColor",i),this.setData("textColorBlack",t),"note/file"===e.type&&this.setData("textColorBlack",!1)}.observes("notecard.color","defaultColor").on("init"),didConnect:function(){if(this.openEditorModal(),isMobileBrowser()){var t=this.getData("notecard"),e=this.getData("defaultColor");isValidString(e)||(e=t.color),document.body.style.backgroundColor=e}else document.body.style.backgroundColor="#F7F7F7"},actions:{transparentOverlay:function(){if(!this.getData("displayVersions"))return this.setData("shrinkEditor",!1),this.hideChooseBookMixin(!0),Lyte.triggerEvent(GLOBAL_EVENT.get("HIDE_NOTE_INFO")),!1},alertDimmer:function(t){Lyte.triggerEvent("alertDimmerClick",t)},refreshContent:function(){var t=this.getData("notecard"),e=this;getPublicNotecardDetailsNR(t.notecard_id,!0).then(function(t){var n=JSON.parse(t);if("success"===n.status.toLowerCase()){var i=n;downloadNotecardNR(i.notecard_id).then(function(t){"object"==typeof t&&(t.code||(i.contentXML=t,e.setData("notecard",i)))}).catch(function(t){})}return null})},reportAbuse:function(){var t=this.getData("showReportAbuse");this.setData("showReportAbuse",!t)}},openEditorModal:function(){var t=this;setTimeout(function(){t.setData("openEditor",!0)},10)}},{mixins:["card-util","reminder-util"]}),Lyte.Component.register("text-note-view",{_template:"<template tag-name=\"text-note-view\">\n    <div class=\"text-editor-wrap\">\n        <div class=\"editor-space editor\" id=\"text-editor\">\n            <div id=\"note-editor\" class=\"{{if(textColorBlack, '', 'white_tb')}}\">\n                <div class=\"card-title\">\n                    <div>\n                        {{unescape(replace-with-if-empty(notecard.name, '', 'untitled'))}}\n                    </div>\n                </div>\n                <div class=\"content {{if(hasTitle, '', 'zero-top')}}\">\n                    {{unescape(parsedHtml,undefined,sanitizer.attr)}}\n                </div>\n            </div>\n        </div>\n    </div>\n\n</template>\n<style>\n.checklist{\n    list-style-type:none;\n}\n\n/* .checklist li {\n    clear: both;\n} */\n\n.checklist li::before{\n    content:''; /*url('../../editor/images/checkbox-inactive.png'); */\n    margin:2px 8px;\n    cursor:pointer;\n    float: left;\n    height: 24px;\n    width: 12px;\n    background: url('../icon-assets/checkbox-inactive.png') no-repeat center left;\n}\n\n.white_tb .checklist li::before {\n    content:''!important;\n    background: url('../icon-assets/checkbox-inactive-white.png') no-repeat center left!important;\n}\n\n.white_cl li::before{\n    content:'';\n    margin:2px 8px;\n    cursor:pointer;\n    background: url('../icon-assets/checkbox-inactive-white.png') no-repeat center left!important;\n\n}\n.checklist li.checked::before{\n    content:'';\n    margin:2px 8px;\n    cursor:pointer;\n    background: url('../icon-assets/checkbox-active.png') no-repeat center left!important;\n}\n\n.white_tb .checklist li.checked::before {\n    content:'';\n    background: url('../icon-assets/checkbox-active-white.png') no-repeat center left!important;\n}\n\n.white_cl li.checked::before{\n    content: '';\n    background: url('../icon-assets/checkbox-active-white.png') no-repeat center left!important;\n    margin:2px 8px;\n    cursor:pointer;\n}\n\n.white_cl{\n    list-style-type:none;\n}\n\n.checklist li.checked{\n    opacity:.6;\n}\n\n.checkbox>div{\n    display:inline-block;\n    position:relative;\n    width:95%;\n    width:calc(100% - 40px);\n    /* float:right; */\n    margin-left: 8px;\n}\n\n.highlight {\n    background-color: #000000!important;\n    color : #FFFFFF!important;\n    padding: 0 1px;\n}\n.white_tb .highlight {\n    background-color : #FFFFFF!important;\n    color : #000000!important;\n}\n\nhr {\n    display: block;\n    height: 1px;\n    border: 0;\n    border-top: 1px solid #212121;\n    margin: 1em 0;\n    padding: 0;\n}\n\n.white_tb hr {\n    border-top: 1px solid #FFFFFF;\n}\n\n.audioPlayIcon{\n    background-image:url(\"../icon-assets/editor-audio-control-fill.png\");\n    height:40px;\n    width:40px;\n    background-position:0 0;\n    cursor:pointer;\n    position:absolute;\n    top:50%;\n    margin-top:-20px;\n    left:50%;\n    margin-left:-20px;\n    z-index:10;\n}\n\n@media only screen and(-webkit-min-device-pixel-ratio:2),only screen and(min-device-pixel-ratio:2),only screen and(-o-min-device-pixel-ratio:2/1){\n    .audioPlayIcon{\n        background-image:url(\"../icon-assets/editor-audio-control-fill@2x.png\");\n        background-size:128px 128px;\n    }\n}\n\n.playingIcon{\n    background-position:-40px 0;\n}\n.whitePlayer .audioPlayIcon{\n    background-position:0 -40px!important;\n}\n.whitePlayer .playingIcon{\n    background-position:-40px -40px!important;\n}\n\n.notecardAudioClass{\n    text-align:center;\n    position:relative;\n    background-color:#212121;\n    height:72px;\n    border-radius:8px;\n    -webkit-box-shadow:0 1px 2px 0 rgba(0,0,0,0.25);\n    box-shadow:0 1px 2px 0 rgba(0,0,0,0.25);\n    -moz-box-shadow:0 1px 2px 0 rgba(0,0,0,0.25);\n    margin: 16px 8px;\n}\n.whitePlayer{\n    background-color:#fff;\n}\n#text-editor wave{\n    border-right:none!important;\n    position:absolute!important;\n    width:100%;\n    top:0;\n}\n.waveformContainer{\n    position:absolute;\n    top:0;\n    bottom:0;\n    right:0;\n    left:0;\n}\n.durationDiv{\n    position:absolute;\n    bottom:0;\n    right:32px;\n    font-size:12px;\n}\n.progressTimeDiv{\n    position:absolute;\n    bottom:0;\n    left:32px;\n    font-size:12px;\n}\n\n#note-editor table:not(.zne-block table),\n#note-editor th:not(.zne-block th),\n#note-editor tr:not(.zne-block tr),\n#note-editor td:not(.zne-block td) {\n  border: 1px solid!important;\n  border-collapse: collapse;\n}\n\n.zn-quote {\n    font-family: Georgia, Baskerville, sans-serif;\n    font-style: italic;\n    margin: 16px 0px;\n    font-size: 1em;\n    border-left: 6px solid rgba(0,0,0,.4);\n    padding: 8px 16px;\n    background-color: rgba(0,0,0,0.1);\n    border-radius: 8px;\n}\n\n.white_tb .zn-quote {\n    border-left: 6px solid rgba(255,255,255,0.84);\n    background-color: rgba(255,255,255,0.1);\n}\n\n.zn-code {\n    background-color: rgba(0,0,0,0.1) !important;\n    overflow-x : auto;\n    display : block;\n    padding: 8px 16px;\n    white-space: pre-wrap;\n    border-radius: 8px;\n}\n\n.white_tb .zn-code {\n    background-color: rgba(255,255,255,0.1) !important;\n}\n\n\n\n\n/* table chnages */\n\n#text-editor table:not(.ze_tableView):not(.zne-block table) {\n    /* display: block; */\n    overflow-x: auto;\n    white-space: nowrap;\n    border-bottom: none!important;\n    border-top: none!important;\n    border-left: none!important;\n    border-right: none!important;\n}\n\n#text-editor td pre{\n    white-space: pre-wrap;\n}\n\n#text-editor table:not(.zne-block table) td:not(.zne-block td) {\n    width: 120px;\n    word-break: break-word;\n    vertical-align: top;\n}\n\n/* table chnages */\n\n.zne-block {\n    cursor: default;\n    border: 1px solid #e0e0e0;\n    position: relative;\n    border-radius: 4px;\n    padding: 8px;\n}\n</style>",_dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"text",position:[1,1,1,1,1,1]},{type:"attr",position:[1,1,1,3]},{type:"text",position:[1,1,1,3,1]}],_observedAttributes:["wavesurfers","notecard","parsedHtml","showEditorOverlay","hasTitle","sanitizer"],data:function(){return{wavesurfers:Lyte.attr("array",{default:[]}),notecard:Lyte.attr("object",{default:{}}),parsedHtml:Lyte.attr("string",{default:""}),showEditorOverlay:Lyte.attr("boolean",{default:!1}),hasTitle:Lyte.attr("boolean",{default:!1}),sanitizer:Lyte.attr("object",{default:{attr:Lyte.Security.createSanitizer({ADD_URI_SAFE_ATTR:["style"],ALLOWED_STYLE:"ALL",STYLE_VALIDATION:!1})}})}},textColorObserver:function(){for(var t=this.getData("wavesurfers"),e=!this.getData("textColorBlack")?"#212121":"#ffffff",n=0;n<t.length;n++){var i=this.getData(t[n]);isValidObject(i)&&(i.params.progressColor=e)}}.observes("textColorBlack").on("init"),contentObserver:function(){this.setEditorContent()}.observes("notecard.contentXML"),didConnect:function(){this.setData("showEditorOverlay",!1),this.setEditorContent()},didDestroy:function(){this.deactivatePreviousWavesurfers()},titleObserver:function(){var t=this.getData("notecard");isValidObject(t)&&isValidString(t.name)&&"untitled"!==t.name.toLowerCase()&&this.setData("hasTitle",!0)}.observes("notecard.name").on("init"),setEditorContent:function(){var t=this.getData("notecard"),e=parseZnote(t.contentXML,t.notecard_id);this.setData("parsedHtml",e),this.initialiseAudioResources()},initialiseAudioResources:function(){this.deactivatePreviousWavesurfers();var t=this.getData("wavesurfers"),e=this.getData("notecard"),n=!this.getData("textColorBlack"),i=this.getData("parsedHtml"),o=document.createElement("div");o.innerHTML=i;for(var a=o.getElementsByClassName("notecardAudioClass"),r=(e.notebook_id,e.notecard_id),s=0;s<a.length;s++){var l=a[s].id,d=initialiseWaveSurferForEditor(l,getResourceDownloadUrl(r,l),n);this.setData("wavesurfer_"+l,d),t.push("wavesurfer_"+l)}},deactivatePreviousWavesurfers:function(){for(var t=this.getData("wavesurfers"),e=0;e<t.length;e++){var n=this.getData(t[e]);isValidObject(n)&&n.isPlaying()&&n.playPause(),this.setData(t[e],{})}}},{mixins:["card-util"]}),Lyte.Component.register("audio-note-view",{_template:'<template tag-name="audio-note-view" id="audio-note-editor">\n    <div class="audio-editor-wrap">\n        <div class="editor-space editor" id="audio-editor">\n            <div id="image-editor-div">\n                <div class="card-title">\n                    <div>\n                        {{unescape(replace-with-if-empty(notecard.name, \'\', \'untitled\'))}}\n                    </div>\n                </div>\n                <div class="content {{if(hasTitle, \'\', \'zero-top\')}}">\n                    <div class="waveform-table {{if(textColorBlack, \'\', \'white-audio-player\')}}">\n                        <div class="waveform-cell">\n                            <div id="waveform-container"></div>\n                            <div id="progress-time">{{progressTime}}</div>\n                            <div id="total-duration">{{totalDuration}}</div>\n                        </div>\n\n                        <div class="play-pause-icon hide-icon" onclick="{{action(\'playPauseAudio\')}}"></div>\n                    </div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n        </div>\n\n    </div>\n\n</template>\n<style>.audio-note-editor {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n}\n\n#audio-note-editor {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n}\n\n#audio-note-editor .playerContainer {\n\tposition: absolute;\n    top: 50%;\n    left: 0;\n    right: 0;\n    bottom: 59px;\n    margin-top: -152px;\n    text-align: center;\n    overflow: auto;\n}\n\n.waveform-table {\n    display: table;\n    position: absolute;\n\n    top: 0;\n    height: 100%;\n    width: 100%;\n}\n\n.waveform-cell {\n    display: table-cell;\n    vertical-align: middle;\n}\n\n#waveform-container {\n    margin-left: auto;\n    margin-right: auto;\n    width: 100%;\n}\n\n#audio-note-editor .titleContainer .title {\n    color: inherit;\n}\n\n.play-pause-icon {\n    position: absolute;\n\n    bottom: 20%;\n    left: 50%;\n    margin-left: -32px;\n\n\tbackground:url("../icon-assets/sprite-audio.png") no-repeat scroll;\n\theight: 64px;\n\twidth: 64px;\n\tbackground-position: 0px 0px;\n\tdisplay: inline-block;\n\tcursor: pointer;\n}\n\n.audio-playing-icon {\n\tbackground-position: -64px 0px;\n}\n\n.white-audio-player .play-pause-icon {\n\tbackground-position: 0px -64px!important;\n}\n\n.white-audio-player .audio-playing-icon {\n\tbackground-position: -64px -64px!important;\n}\n\nwave {\n\tborder-right: none!important;\n\toverflow-x: hidden!important;\n}\n\n.whiteDots {\n\tbackground-color: white!important;\n}\n\n@media only screen and (-webkit-min-device-pixel-ratio: 2),\nonly screen and (min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1) {\n\t.play-pause-icon{\n\t\tbackground-image:url("../icon-assets/sprite-audio@2x.png");\n\t\tbackground-size: 128px 128px;\n\t}\n}\n\n#progress-time {\n\t/* display: inline-block; */\n    float: left;\n    margin-left: 32px;\n}\n\n#total-duration {\n\t/* display: inline-block; */\n    float: right;\n    margin-right: 32px;\n}\n</style>',_dynamicNodes:[{type:"text",position:[1,1,1,1,1,1]},{type:"attr",position:[1,1,1,3]},{type:"attr",position:[1,1,1,3,1]},{type:"text",position:[1,1,1,3,1,1,3,0]},{type:"text",position:[1,1,1,3,1,1,5,0]},{type:"attr",position:[1,1,1,3,1,3]}],_observedAttributes:["wavesurfer","audioLink","allAudioResources","progressTime","totalDuration","notecard","hasTitle"],data:function(){return{wavesurfer:Lyte.attr("object",{default:null}),audioLink:Lyte.attr("string",{default:18}),allAudioResources:Lyte.attr("array",{default:[]}),progressTime:Lyte.attr("string",{default:""}),totalDuration:Lyte.attr("string",{default:""}),notecard:Lyte.attr("object",{default:{}}),hasTitle:Lyte.attr("boolean",{default:!1})}},textColorObserver:function(){var t=this.getData("wavesurfer"),e=!this.getData("notecard").textColorBlack?"#212121":"#ffffff";isValidObject(t)&&(t.params.progressColor=e)}.observes("textColorBlack").on("init"),titleObserver:function(){var t=this.getData("notecard");isValidObject(t)&&isValidString(t.name)&&"untitled"!==t.name.toLowerCase()&&this.setData("hasTitle",!0)}.observes("notecard.name").on("init"),wavesurferObserver:function(){var t=this.getData("wavesurfer"),e=this;t.on("ready",function(){e.setData("totalDuration",convertSecondsTohhmmss(t.getDuration()))}),t.on("audioprocess",function(){e.setData("progressTime",convertSecondsTohhmmss(t.getCurrentTime()))})}.observes("wavesurfer"),contentObserver:function(){this.getData("notecard");var t=!this.get("textColorBlack")?"#ffffff":"#212121";this.deactivatePreviousWavesurfer(),$("#waveform-container").empty();var e=initialiseWaveSurfer(t);this.setData("wavesurfer",e),this.setEditorContent()}.observes("notecard.contentXML"),didConnect:function(){this.setData("showEditorOverlay",!1);this.getData("notecard");var t=!this.get("textColorBlack")?"#ffffff":"#212121";this.deactivatePreviousWavesurfer(),$("#waveform-container").empty();var e=initialiseWaveSurfer(t);this.setData("wavesurfer",e),this.setEditorContent()},didDestroy:function(){this.deactivatePreviousWavesurfer(),$("#waveform-container").empty()},actions:{playPauseAudio:function(){var t=this.get("wavesurfer");isValidObject(t)&&($(".play-pause-icon").toggleClass("audio-playing-icon"),t.playPause())}},setEditorContent:function(){var t=this.getData("notecard");this.parseZNMLForAudio(t.contentXML)},parseZNMLForAudio:function(t){var e=this.get("notecard"),n=getAllZAudio(t,e.notecard_id);if(this.setData("allAudioResources",n),n.length>0){var i=n[0].source;this.setData("audioLink",i),this.getData("wavesurfer").load(this.getData("audioLink"))}},deactivatePreviousWavesurfer:function(){var t=this.getData("wavesurfer");isValidObject(t)&&t.isPlaying()&&t.playPause(),this.setData("wavesurfer",null)}}),Lyte.Component.register("checklist-note-view",{_template:'<template tag-name="checklist-note-view">\n    <div class="checklist-editor-wrap">\n        <div class="editor-space editor" id="checklist-editor">\n            <div id="checklist-editor-div">\n                <div class="card-title">\n                    <div>\n                        {{unescape(replace-with-if-empty(notecard.name, \'\', \'untitled\'))}}\n                    </div>\n                </div>\n                <div class="content {{if(hasTitle, \'\', \'zero-top\')}}">\n                    <ul id="unChecked-checkbox-array">\n                        <template is="for" items="{{unCheckedCheckboxArray}}" item="item" index="index">\n                            <li>\n                                <div class="checkbox-item {{if(item.checked, \'checked-item\')}} {{if(textColorBlack, \'\', \'white-item\')}}">\n                                    <div class="checkBox {{if(textColorBlack, \'\', \'white-checkbox\')}} {{if(item.checked, \'checked\')}}"></div>\n                                    <div class="checkboxContent version-checklist-item">{{unescape(item.content)}}</div>\n                                </div>\n                            </li>\n                        </template>\n                    </ul>\n\n                    <template is="if" value="{{showCompleted}}"><template case="true">\n                        <div id="completed-label-div"> Completed </div>\n                    </template></template>\n\n                    <ul id="checked-checkbox-array">\n                        <template is="for" items="{{checkedCheckboxArray}}" item="item" index="index">\n                            <li>\n                                <div class="checkbox-item {{if(item.checked, \'checked-item\')}} {{if(textColorBlack, \'\', \'white-item\')}}">\n                                    <div class="checkBox {{if(textColorBlack, \'\', \'white-checkbox\')}} {{if(item.checked, \'checked\')}}"></div>\n                                    <div class="checkboxContent version-checklist-item">{{unescape(item.content)}}</div>\n                                </div>\n                            </li>\n                         </template>\n                    </ul>\n                </div>\n            </div>\n        </div>\n\n    </div>\n</template>\n<style>#editorWrapDiv {\n    position: absolute;\n    top: 50px;\n    bottom: 0;\n    width: inherit;\n}\n\n.checkbox-item {\n\tborder-bottom: 1px solid rgba(0, 0, 0, 0.1);\n    /*height: 24px;*/\n    padding: 12px;\n    /*font-family: Charter;*/\n\t/* margin: 0 5%; */\n}\n\n.checkbox-item * {\n\tdisplay: inline-block;\n\toutline: 0;\n\tborder: 0;\n\tvertical-align: top;\n\tline-height: 1.75em;\n}\n\n#checklist-editor-div ul {\n    list-style-type: none;\n    padding: 0;\n    position: relative;\n}\n\n#checklist-editor {\n    margin-left: 64px;\n    margin-right: 64px;\n}\n\n/* .checkbox-item:hover .checklist-icon {\n\t-moz-transform: scale(1);\n\t-ms-transform: scale(1);\n\t-webkit-transform: scale(1);\n\ttransform: scale(1);\n\topacity: 1;\n\tfilter: alpha(opacity=1);\n} */\n\n.checkboxContent, autogrowing-div {\n\twidth: calc(100% - 50px);\n\t-webkit-appearance: none;\n\tappearance: none;\n\t-moz-appearance: none;\n    background: transparent;\n    height: inherit;\n    font-size: inherit;\n    /*font-family: Charter;*/\n\tcolor: inherit;\n}\n\n#checklist-editor-div .checkBox {\n\tmargin: 0.6em 8px 0 0!important;\n}\n\n::-webkit-input-placeholder { /* WebKit, Blink, Edge */\n\tcolor: inherit;\n\topacity: 0.25;\n}\n:-moz-placeholder { /* Mozilla Firefox 4 to 18 */\n\tcolor: inherit;\n   \topacity: 0.25;\n}\n::-moz-placeholder { /* Mozilla Firefox 19+ */\n\tcolor: inherit;\n   \topacity: 0.25;\n}\n:-ms-input-placeholder { /* Internet Explorer 10-11 */\n\tcolor: inherit;\n   \topacity: 0.25;\n}\n\n#checklist-editor-div {\n\tcolor: inherit;\n    overflow: auto;\n    position: absolute;\n    width: 100%;\n    top: 0;\n    bottom: 0;\n    -ms-overflow-style: none;  /* IE 10+*/\n    /* overflow: -moz-scrollbars-none;   */\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    -webkit-overflow-scrolling: touch;\n}\n\n.checked-item {\n\topacity: 0.6;\n}\n\n.checklist-icon {\n\tbackground-image: url("../icon-assets/sprite-checklist.png");\n\t-webkit-transition: transform 0.3s linear;\n\t-moz-transition: transform 0.3s linear;\n\t-ms-transition: transform 0.3s linear;\n\t-o-transition: transform 0.3s linear;\n\ttransition: transform 0.3s linear;\n\topacity: 0;\n\tfilter: alpha(opacity=0);\n\t-moz-transform: scale(0);\n\t-ms-transform: scale(0);\n\t-webkit-transform: scale(0);\n\ttransform: scale(0);\n\tcursor: pointer;\n\theight: 24px;\n    width: 24px;\n}\n\n.sortable-item:hover .checklist-icon {\n\t-moz-transform: scale(1);\n\t-ms-transform: scale(1);\n\t-webkit-transform: scale(1);\n\ttransform: scale(1);\n\topacity: 1;\n\tfilter: alpha(opacity=1);\n}\n\n.checklist-editor {\n    position: absolute;\n    top: 50px;\n    left: 10px;\n    right: 10px;\n    bottom: 10px;\n}\n\n.version-checklist-item {\n\twidth: 90%;\n\twidth: calc(100% - 50px);\n}\n\n#reorder-item-icon {\n    position: absolute;\n    left: 6%;\n    top: 14px;\n\tleft: calc(5% - 30px);\n}\n\n#delete-item-icon {\n    position: absolute;\n    left: 92%;\n\tleft: calc(95% + 12px);\n    top: 14px;\n\tmargin: 0;\n\tbackground-position: -24px 0;\n}\n\n#delete-item-icon.white-checklist-icon {\n\tbackground-position: -24px -24px!important;\n}\n\n#completed-label-div {\n\tmargin: 0 5%;\n\tmargin-top: 32px;\n\tpadding-left: 12px;\n}\n\n\n.white-checklist-icon {\n\tbackground-position-y: -24px!important;\n}\n\n\n.white-item {\n\tborder-bottom: 1px solid rgba(255,255,255,0.2)!important;\n}\n\n@media only screen and (-webkit-min-device-pixel-ratio: 2),\nonly screen and (min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1) {\n\t.checklist-icon {\n\t\tbackground-image: url("../icon-assets/sprite-checklist@2x.png");\n\t\tbackground-size: 48px 48px;\n\t}\n\n}\n\n#checklist-editor-div::-webkit-scrollbar {\n    display: none;  // Safari and Chrome\n}\n\n.checkboxContent .editableDiv, autogrowing-div .editableDiv {\n\twidth: inherit;\n}\n\n[placeholder]:empty:before {\n    content: \'New Item\';\n    color: inherit;\n\topacity: 0.25;\n}\n\n[placeholder]:empty:focus:before {\n    content: "";\n}\n</style>',_dynamicNodes:[{type:"text",position:[1,1,1,1,1,1]},{type:"attr",position:[1,1,1,3]},{type:"attr",position:[1,1,1,3,1,1]},{type:"for",position:[1,1,1,3,1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"text",position:[1,1,3,0]}]},{type:"attr",position:[1,1,1,3,3]},{type:"if",position:[1,1,1,3,3],cases:{true:{dynamicNodes:[]}},default:{}},{type:"attr",position:[1,1,1,3,5,1]},{type:"for",position:[1,1,1,3,5,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"text",position:[1,1,3,0]}]}],_observedAttributes:["contentChanged","checkedCheckboxArray","unCheckedCheckboxArray","checkBoxArray","showCompleted","hasTitle"],data:function(){return{contentChanged:Lyte.attr("boolean",{default:!1}),checkedCheckboxArray:Lyte.attr("array",{default:[]}),unCheckedCheckboxArray:Lyte.attr("array",{default:[]}),checkBoxArray:Lyte.attr("array",{default:[]}),showCompleted:Lyte.attr("boolean",{default:!1}),hasTitle:Lyte.attr("boolean",{default:!1})}},contentObserver:function(){this.setEditorContent()}.observes("notecard.contentXML"),titleObserver:function(){var t=this.getData("notecard");isValidObject(t)&&isValidString(t.name)&&"untitled"!==t.name.toLowerCase()&&this.setData("hasTitle",!0)}.observes("notecard.name").on("init"),didConnect:function(){this.setData("showEditorOverlay",!1),this.setEditorContent()},setEditorContent:function(){var t=this.getData("notecard"),e=parseChecklistNote(t.contentXML),n=[],i=[];sanitizeCheckListNoteContent(e);if(e.length>0){var o=e.filter(function(t){return!1===t.checked});o.length>0&&Lyte.arrayUtils(n,"push",o)}if(this.setData("unCheckedCheckboxArray",n),e.length>0){var a=e.filter(function(t){return!0===t.checked});a.length>0&&(Lyte.arrayUtils(i,"push",a),this.setData("showCompleted",!0))}this.setData("checkedCheckboxArray",i)}},{mixins:["card-util"]}),Lyte.Component.register("image-note-view",{_template:'<template tag-name="image-note-view">\n\t<div class="image-editor-wrap">\n\t\t<div class="editor-space editor" id="image-editor">\n            <div id="image-editor-div">\n                <div class="card-title">\n                    <div>\n                        {{unescape(replace-with-if-empty(notecard.name, \'\', \'untitled\'))}}\n                    </div>\n                </div>\n                <div class="content {{if(hasTitle, \'\', \'zero-top\')}}" id="image-content">\n\t\t\t\t\t<image-editor-preview main-image="{{lbind(mainImage)}}" wrapper-class-name="photo-editor" all-images="{{allImages}}" change-image-to="{{changeImageTo}}">\n\t\t\t\t\t</image-editor-preview>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n</template>\n<style>.add-image-text .main-text {\n    text-align: center;\n    color: #CCC;\n}\n\n.add-image-text .sub-text {\n\tcolor: #808080;\n}\n</style>',_dynamicNodes:[{type:"text",position:[1,1,1,1,1,1]},{type:"attr",position:[1,1,1,3]},{type:"attr",position:[1,1,1,3,1]},{type:"componentDynamic",position:[1,1,1,3,1]}],_observedAttributes:["allImages","mainImage","rightImage","leftImage","hasTitle"],data:function(){return{allImages:Lyte.attr("array",{default:[]}),mainImage:Lyte.attr("string",{default:""}),rightImage:Lyte.attr("object",{default:""}),leftImage:Lyte.attr("object",{default:""}),hasTitle:Lyte.attr("boolean",{default:!1})}},contentObserver:function(){this.downloadXMLContent()}.observes("notecard.contentXML"),didConnect:function(){this.downloadXMLContent()},titleObserver:function(){var t=this.getData("notecard");isValidObject(t)&&isValidString(t.name)&&"untitled"!==t.name.toLowerCase()&&this.setData("hasTitle",!0)}.observes("notecard.name").on("init"),downloadXMLContent:function(){var t=this.getData("notecard");this.parseZNMLForImages(t.contentXML)},parseZNMLForImages:function(t){var e=this.getData("notecard");if(e){var n=getAllZimages(t,e.notecard_id);this.setData("allImages",n),n.length>0&&this.setData("mainImage",n[0])}}},{mixins:["card-util"]}),Lyte.Component.register("sketch-note-view",{_template:'<template tag-name="sketch-note-view">\n    <div class="sketch-editor-wrap">\n\t\t<div class="editor-space editor" id="sketch-editor">\n            <div id="sketch-editor-div">\n                <div class="card-title">\n                    <div>\n                        {{unescape(replace-with-if-empty(notecard.name, \'\', \'untitled\'))}}\n                    </div>\n                </div>\n                <div class="content {{if(hasTitle, \'\', \'zero-top\')}}">\n                    <div class="main-image-preview image-preview">\n                        <span class="helper"></span>\n                        <img id="sketch-image" src="{{mainImage}}">\n                    </div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n</template>\n<style>.image-preview img {\n    max-width: 98%;\n    max-height: 99%;\n    vertical-align: middle;\n}\n\n.image-preview .helper {\n    height: 100%;\n    vertical-align: middle;\n    display: inline-block;\n}\n</style>',_dynamicNodes:[{type:"text",position:[1,1,1,1,1,1]},{type:"attr",position:[1,1,1,3]},{type:"attr",position:[1,1,1,3,1,3]}],_observedAttributes:["showDotsLoading","isWhiteDots","mainImage","hasTitle"],data:function(){return{showDotsLoading:Lyte.attr("boolean",{default:!1}),isWhiteDots:Lyte.attr("boolean",{default:!1}),mainImage:Lyte.attr("string",{default:""}),hasTitle:Lyte.attr("boolean",{default:!1})}},contentObserver:function(){this.initializeEditorF()}.observes("notecard.contentXML"),didConnect:function(){this.initializeEditorF()},titleObserver:function(){var t=this.getData("notecard");isValidObject(t)&&isValidString(t.name)&&"untitled"!==t.name.toLowerCase()&&this.setData("hasTitle",!0)}.observes("notecard.name").on("init"),initializeEditorF:function(){var t=this.getData("notecard"),e=getAllZimages(t.contentXML,t.notecard_id);e.length>0&&this.setData("mainImage",e[0])}}),Lyte.Component.register("bookmark-note-view",{_template:'<template tag-name="bookmark-note-view">\n    <div class="bookmark-editor-wrap">\n        <div class="editor-space editor" id="bookmark-editor">\n            <template is="if" value="{{isRecipeCard}}"><template case="true">\n                <smart-content-recipe notecard="{{lbind(notecard)}}">\n                </smart-content-recipe>\n            </template><template case="false"><template is="if" value="{{isReaderContent}}"><template case="true">\n                <div class="card-title">\n                    <div>\n                        {{unescape(replace-with-if-empty(notecard.name, \'\', \'untitled\'))}}\n                    </div>\n                </div>\n                <div class="content {{if(hasTitle, \'\', \'zero-top\')}}" id="nbreader-content"></div>\n            </template><template case="false">\n                <div id="showNoContent">\n                    <p>{{translate(\'publicShare.noReaderContentFirstSen\')}}</p>\n                    <p>{{translate(\'publicShare.noReaderContentSecondSen\')}}</p>\n                    <p id="openlink-button" onclick="{{action(\'openLinkInNewTab\')}}"> {{translate(\'publicShare.openLinkInNewTab\')}} </p>\n                 </div>\n            </template></template></template></template>\n        </div>\n\n    </div>\n\n</template>\n<style>#bookmark-editor {\n\tcolor: inherit;\n    overflow: auto;\n    position: absolute;\n    width: 100%;\n    -ms-overflow-style: none;  /* IE 10+ */\n    /* overflow: -moz-scrollbars-none;  /* Firefox */\n\tmargin-left: 0;\n\tmargin-right: 0;\n\t-webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    -webkit-overflow-scrolling: touch;\n}\n\n#bookmark-editor::-webkit-scrollbar {\n    display: none;  /* Safari and Chrome */\n}\n\n#bookmark-editor .close {\n\tposition: absolute;\n    top: 0;\n    right: 8px;\n    z-index: 12;\n\n    width: 24px;\n    height: 24px;\n    margin: 16px;\n}\n\n#showNoContent{\n\tposition: absolute;\n    top: 45%;\n    right: 0;\n    left: 0;\n    text-align: center;\n}\n\n#nbreader-content{\n\tpadding: 0px 40px;\n}\n\n#nbreader-content content{\n\twidth: 100%;\n    white-space: normal;\n\tpadding: 10px 20px;\n}\n\n#openlink-button {\n\tpadding: 10px 20px;\n    background: #eee;\n    color: #000;\n    cursor: pointer;\n    width: 150px;\n    border-radius: 5px;\n    margin: 0 auto;\n    margin: 14px auto;\n}\n</style>',_dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,1]},{type:"attr",position:[3]}]},false:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"text",position:[1,3,0]},{type:"attr",position:[1,5]},{type:"text",position:[1,5,1]}]}},default:{}}]}},default:{}}],_observedAttributes:["isRecipeCard","dotColorClass","isReaderContent","hasTitle","notecard"],data:function(){return{isRecipeCard:Lyte.attr("boolean",{default:!1}),dotColorClass:Lyte.attr("string",{default:""}),isReaderContent:Lyte.attr("boolean",{default:!1}),hasTitle:Lyte.attr("boolean",{default:!1}),notecard:Lyte.attr("object",{default:{}})}},textColorObserver:function(){var t=!this.getData("notecard").textColorBlack;this.setData("dotColorClass",t?"white-dots":"")}.observes("textColorBlack").on("init"),titleObserver:function(){var t=this.getData("notecard");isValidObject(t)&&isValidString(t.name)&&"untitled"!==t.name.toLowerCase()&&this.setData("hasTitle",!0)}.observes("notecard.name").on("init"),smartContentObserver:function(){switch(this.get("notecard").smart_type){case"Recipe":this.setData("isRecipeCard",!0)}}.observes("notecard.smartContent"),didConnect:function(){this.setData("showEditorOverlay",!1);var t=this.getData("notecard");t.is_smartcontent_available&&"bookmark"!==t.smart_type.toLowerCase()?downloadNoteSmartContentNR(t.notecard_id).then(function(e){"object"==typeof(e=JSON.parse(e))&&LyteComponent.set(t,"smartContent",e.smart_contents[0].smart_content)}).catch(function(t){}):this.setEditorContent()},actions:{openLinkInNewTab:function(){var t=this.getData("notecard");openLinkInNewTab(getBookmarkDescMixin(t))}},setEditorContent:function(){var t=this.getData("notecard"),e=getReaderViewContent(t.contentXML);isValidString(e)?(this.setData("isReaderContent",!0),e=e.replace(/(?:\r\n|\r|\n)/g,""),document.getElementById("nbreader-content").innerHTML=e):this.setData("isReaderContent",!1)}}),Lyte.Component.register("file-note-view",{_template:'<template tag-name="file-note-view">\n\t<div class="file-editor-wrap">\n\t\t<div class="editor-space editor" id="file-editor">\n            <div id="file-editor-div">\n                <div class="card-title">\n                    <div>\n                        {{unescape(replace-with-if-empty(notecard.name, \'\', \'untitled\'))}}\n                    </div>\n                </div>\n                <div class="content {{if(hasTitle, \'\', \'zero-top\')}}">\n\t\t\t\t\t<template is="if" value="{{hasPreview}}"><template case="true">\n\n\t\t\t\t\t\t\n\n\t\t\t\t\t\t<template is="if" value="{{isIframeLoad}}"><template case="true">\n\n\t\t\t\t\t\t\t<iframe src="{{allFiles[0].docs_preview_url}}" id="preview-iframe" class="file-preview">\n\t\t\t\t\t\t\t</iframe>\n\n\t\t\t\t\t\t</template><template case="false">\n\n\t\t\t\t\t\t\t<div class="helper"></div>\n\t\t\t\t\t\t\t<img src="{{allFiles[0].docs_preview_url}}" class="image-content-preview">\n\n\t\t\t\t\t\t</template></template>\n\n\t\t\t\t\t</template><template case="false"><template is="if" value="{{contentDownloading}}"><template case="true">\n\t\t\t\t\t\t<dots-loading>\n\t\t\t\t\t\t</dots-loading>\n\t\t\t\t\t</template><template case="false">\n\n\t\t\t\t\t\t<div class="no-preview-wrap" title="{{notecard.name}}">\n\t\t\t\t\t\t\t<div class="no-file-preview">\n\n\t\t\t\t\t\t\t\t<file-grid-preview card="{{notecard}}" no-name="{{noName}}" size-level="{{sizeLevel}}">\n\t\t\t\t\t\t\t\t</file-grid-preview>\n\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class="file-name">\n\t\t\t\t\t\t\t\t{{notecard.name}}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class="no-preview-text">\n\t\t\t\t\t\t\t\tNo preview available\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t</template></template></template></template>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<template is="if" value="{{download_url}}"><template case="true">\n\t\t\t<div id="note-options-container" class="editor-footer file-editor-footer">\n\t\t\t\t<a href="{{download_url}}" target="_blank" class="note-options inote-option inote-option-black idownload-dim" title="Download">\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</template></template>\n\n\t</div>\n\n</template>\n<style>\n.block {\n\tposition: relative;\n\tdisplay: inline-block;\n\twidth: 24px;\n\theight: 24px;\n\tbackground-color: black;\n}\n\n.no-preview-wrap {\n\tposition: absolute;\n    top: 50%;\n    left: 0;\n    right: 0;\n\n    -webkit-transform: translateY(-50%);\n    -moz-transform: translateY(-50%);\n   \t-ms-transform: translateY(-50%);\n   \t-o-transform: translateY(-50%);\n    transform: translateY(-50%);\n}\n\n.file-name {\n\tfont-size: 16px;\n    width: 75%;\n    margin: auto;\n    padding-top: 10px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    text-align: center;\n}\n\n.no-preview-text {\n\tcolor: grey;\n    font-size: 14px;\n    text-align: center;\n    padding-top: 8px;\n}\n\n.no-file-preview {\n    position: relative;\n    width: 134px;\n    height: 134px;\n    left: 50%;\n    margin: 0 0 0 -67px;\n}\n\n.file-preview {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    margin: auto;\n    width : 100%;\n    height: 100%;\n    border : none;\n}\n\n.image-content-preview {\n    max-width: 98%;\n    max-height: 98%;\n    text-align: center;\n    vertical-align: middle;\n}\n\n#file-editor-div .content {\n\tbottom: 48px;\n}\n\n#note-options-container {\n    position: absolute;\n    bottom: 0;\n    width: 100%;\n    text-align: center;\n}\n\n#note-options-container .note-options {\n    margin: 8px 16px;\n\tdisplay: inline-block;\n}\n\n.editor-footer {\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    min-height: 40px;\n    text-align: center;\n\tborder-top: solid 1px rgba(0, 0, 0, 0.1) !important;\n}</style>',_dynamicNodes:[{type:"text",position:[1,1,1,1,1,1]},{type:"attr",position:[1,1,1,3]},{type:"attr",position:[1,1,1,3,1]},{type:"if",position:[1,1,1,3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[3]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"componentDynamic",position:[1,1,1]},{type:"text",position:[1,3,1]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]}]}},default:{}}],_observedAttributes:["allFiles","hasPreview","isIframeLoad","showTick","noName","sizeLevel","noShowTime","hasTitle","contentDownloading","download_url"],data:function(){return{allFiles:Lyte.attr("array",{default:[]}),hasPreview:Lyte.attr("boolean",{default:!1}),isIframeLoad:Lyte.attr("boolean",{default:!0}),showTick:Lyte.attr("boolean",{default:!1}),noName:Lyte.attr("boolean",{default:!0}),sizeLevel:Lyte.attr("number",{default:1}),noShowTime:Lyte.attr("boolean",{default:!0}),hasTitle:Lyte.attr("boolean",{default:!1}),contentDownloading:Lyte.attr("boolean",{default:!1}),download_url:Lyte.attr("string",{default:""})}},init:function(){this.getData("notecard");this.generatePreview(3e3,0)},titleObserver:function(){var t=this.getData("notecard");isValidObject(t)&&isValidString(t.name)&&"untitled"!==t.name.toLowerCase()&&this.setData("hasTitle",!0)}.observes("notecard.name").on("init"),generatePreview:function(t,e){if(!(e>10)){var n=this.getData("notecard"),i=getAllZFiles(n);this.setData("allFiles",i);var o=i[0];o.notecard_id=n.notecard_id;var a=o.name;isValidString(a)||(a=n.name);var r,s=getFileDetails(a.toLowerCase(),o.type);o.file_type=s.type,o.extension=s.extension,LyteComponent.set(n,"preview_class",s.previewClass),LyteComponent.set(n,"preview_bgcolor",s.bgcolor);var l=!1;if(isValidObject(n)&&isValidObject(n.embed_resources[0])&&1===n.embed_resources[0].docs_domain&&(l=!0),this.setData("contentDownloading",!0),"PDF"===s.type&&l)r=getDocsDomain(n)+"/file/"+o.docs_resource_id+"?toolbar=false",this.setPreviewData(r,!0,!0,!1);else"IMAGE"===s.type?this.setPreviewData(o.source,!1,!0,!1):"VIDEO"===o.file_type&&document.domain.endsWith(".com")?filePreview("GET",getPreviewEngineUrl(o.docs_resource_id)).then(function(){var t=n.name;isValidString(t)||(t="Untitled"),this.setPreviewData("https://"+document.domain+"/video.do?resource_id="+o.docs_resource_id+"&nb_resource_id="+o.notecard_id+"&title="+t+"&frameorigin=https://"+document.domain,!0,!0,!1),document.querySelector(".spread-parent").classList.add("video-wrap"),document.querySelector(".card-title").classList.add("video-title"),document.querySelector(".editor-space").classList.add("video-space"),document.querySelector("#preview-iframe").scrolling="no"}.bind(this)).catch(function(i){this.getFilePreviewInfo(n,l,o,t,e)}.bind(this)):this.getFilePreviewInfo(n,l,o,t,e)}},getFilePreviewInfo:function(t,e,n,i,o){var a=this;if(e)filePreview("GET",getDocsDomain(t)+"/prvsvl/"+n.docs_resource_id+"?extn="+n.extension).then(function(t){if(t&&(t=JSON.parse(t))&&-1!==t.previewStatus)if(t.previewUrl&&"VIDEO"!==n.file_type&&"ZIP"!==n.file_type){previewUrl=t.previewUrl;var e=t.permalink;a.setData("download_url",e),a.setPreviewData(previewUrl,!0,!0,!1)}else t.pubSubConfig?(i>1e4&&(i=1e4),setTimeout(function(){a.generatePreview(i+3e3,++o)},i)):(a.setData("download_url",""),a.setData("contentDownloading",!1));else a.setData("download_url",""),a.setData("contentDownloading",!1)}).catch(function(t){a.setData("download_url",""),a.setData("contentDownloading",!1)});else{var r=getExternalFileUrlForWD()+"/file/"+n.docs_resource_id;this.setPreviewData(r,!0,!0,!1),filePreview("GET",getExternalFileUrlForWD()+"/api/v1/downloadauth/"+n.docs_resource_id).then(function(t){t&&t.DOWNLOAD_LINK?(a.setData("download_url",t.DOWNLOAD_LINK),a.setData("contentDownloading",!1)):(a.setData("download_url",""),a.setData("contentDownloading",!1))}).catch(function(t){a.setData("download_url",""),a.setData("contentDownloading",!1)})}},setPreviewData:function(t,e,n,i){var o=this.getData("allFiles");if(o.length>0){var a=o[0];LyteComponent.set(a,"docs_preview_url",t)}this.setData("isIframeLoad",e),this.setData("hasPreview",n),this.setData("contentDownloading",i)}}),Lyte.Component.register("video-note-view",{_template:'<template tag-name="video-note-view">\n    <div class="file-editor-wrap">\n\t\t<div class="editor-space editor" id="file-editor">\n            <div id="file-editor-div">\n                <div class="card-title">\n                    <div>\n                        {{unescape(replace-with-if-empty(notecard.name, \'\', \'untitled\'))}}\n                    </div>\n                </div>\n                <div class="content {{if(hasTitle, \'\', \'zero-top\')}}">\n\t\t\t\t\t<template is="if" value="{{hasPreview}}"><template case="true">\n\n\t\t\t\t\t\t\n\n\t\t\t\t\t\t<template is="if" value="{{isIframeLoad}}"><template case="true">\n\n\t\t\t\t\t\t\t<iframe src="{{allFiles[0].docs_preview_url}}" id="preview-iframe" class="file-preview">\n\t\t\t\t\t\t\t</iframe>\n\n\t\t\t\t\t\t</template><template case="false">\n\n\t\t\t\t\t\t\t<div class="helper"></div>\n\t\t\t\t\t\t\t<img src="{{allFiles[0].docs_preview_url}}" class="image-content-preview">\n\n\t\t\t\t\t\t</template></template>\n\n\t\t\t\t\t</template><template case="false"><template is="if" value="{{contentDownloading}}"><template case="true">\n\t\t\t\t\t\t<dots-loading>\n\t\t\t\t\t\t</dots-loading>\n\t\t\t\t\t</template><template case="false">\n\n\t\t\t\t\t\t<div class="no-preview-wrap" title="{{notecard.name}}">\n\t\t\t\t\t\t\t<div class="no-file-preview">\n\n\t\t\t\t\t\t\t\t<file-grid-preview card="{{notecard}}" no-name="{{noName}}" size-level="{{sizeLevel}}">\n\t\t\t\t\t\t\t\t</file-grid-preview>\n\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class="file-name">\n\t\t\t\t\t\t\t\t{{notecard.name}}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class="no-preview-text">\n\t\t\t\t\t\t\t\tNo preview available\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t</template></template></template></template>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<template is="if" value="{{download_url}}"><template case="true">\n\t\t\t<div id="note-options-container" class="editor-footer file-editor-footer">\n\t\t\t\t<a href="{{download_url}}" target="_blank" class="note-options inote-option inote-option-black idownload-dim" title="Download">\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</template></template>\n\n\t</div>\n</template>\n<style>\n.block {\n\tposition: relative;\n\tdisplay: inline-block;\n\twidth: 24px;\n\theight: 24px;\n\tbackground-color: black;\n}\n\n.no-preview-wrap {\n\tposition: absolute;\n    top: 50%;\n    left: 0;\n    right: 0;\n\n    -webkit-transform: translateY(-50%);\n    -moz-transform: translateY(-50%);\n   \t-ms-transform: translateY(-50%);\n   \t-o-transform: translateY(-50%);\n    transform: translateY(-50%);\n}\n\n.file-name {\n\tfont-size: 16px;\n    width: 75%;\n    margin: auto;\n    padding-top: 10px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    text-align: center;\n}\n\n.no-preview-text {\n\tcolor: grey;\n    font-size: 14px;\n    text-align: center;\n    padding-top: 8px;\n}\n\n.no-file-preview {\n    position: relative;\n    width: 134px;\n    height: 134px;\n    left: 50%;\n    margin: 0 0 0 -67px;\n}\n\n.file-preview {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    margin: auto;\n    width : 100%;\n    height: 100%;\n    border : none;\n}\n\n.image-content-preview {\n    max-width: 98%;\n    max-height: 98%;\n    text-align: center;\n    vertical-align: middle;\n}\n\n#file-editor-div .content {\n\tbottom: 48px;\n}\n\n#note-options-container {\n    position: absolute;\n    bottom: 0;\n    width: 100%;\n    text-align: center;\n}\n\n#note-options-container .note-options {\n    margin: 8px 16px;\n\tdisplay: inline-block;\n}\n\n.editor-footer {\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    min-height: 40px;\n    text-align: center;\n\tborder-top: solid 1px rgba(0, 0, 0, 0.1) !important;\n}\n\n.video-title {\n    color: #ffffff;\n}\n\n.video-space {\n    margin-left: 0px !important;\n    margin-right: 0px !important;\n}\n\n.video-wrap {\n    background-color: #333333 !important;\n    left: 0px !important;\n    right: 0px !important;\n    top: 60px !important;\n}</style>',_dynamicNodes:[{type:"text",position:[1,1,1,1,1,1]},{type:"attr",position:[1,1,1,3]},{type:"attr",position:[1,1,1,3,1]},{type:"if",position:[1,1,1,3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[3]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"componentDynamic",position:[1,1,1]},{type:"text",position:[1,3,1]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]}]}},default:{}}],_observedAttributes:["allFiles","hasPreview","isIframeLoad","showTick","noName","sizeLevel","noShowTime","hasTitle","contentDownloading","download_url"],data:function(){return{allFiles:Lyte.attr("array",{default:[]}),hasPreview:Lyte.attr("boolean",{default:!1}),isIframeLoad:Lyte.attr("boolean",{default:!0}),showTick:Lyte.attr("boolean",{default:!1}),noName:Lyte.attr("boolean",{default:!0}),sizeLevel:Lyte.attr("number",{default:1}),noShowTime:Lyte.attr("boolean",{default:!0}),hasTitle:Lyte.attr("boolean",{default:!1}),contentDownloading:Lyte.attr("boolean",{default:!1}),download_url:Lyte.attr("string",{default:""})}},init:function(){this.generatePreview(3e3,0)},titleObserver:function(){var t=this.getData("notecard");isValidObject(t)&&isValidString(t.name)&&"untitled"!==t.name.toLowerCase()&&this.setData("hasTitle",!0)}.observes("notecard.name").on("init"),generatePreview:function(t,e){if(!(e>10)){var n=this.getData("notecard"),i=getAllZFiles(n);this.setData("allFiles",i);var o=i[0];o.notecard_id=n.notecard_id;var a=o.name;isValidString(a)||(a=n.name);var r=getFileDetails(a.toLowerCase(),o.type);o.file_type=r.type,o.extension=r.extension,LyteComponent.set(n,"preview_class",r.previewClass),LyteComponent.set(n,"preview_bgcolor",r.bgcolor);var s=!1;isValidObject(n)&&isValidObject(n.embed_resources[0])&&1===n.embed_resources[0].docs_domain&&(s=!0),this.setData("contentDownloading",!0),"VIDEO"===o.file_type&&document.domain.endsWith(".com")?filePreview("GET",getPreviewEngineUrl(o.docs_resource_id)).then(function(){var t=n.name;isValidString(t)||(t="Untitled"),this.setPreviewData("https://"+document.domain+"/video.do?resource_id="+o.docs_resource_id+"&nb_resource_id="+o.notecard_id+"&title="+t+"&frameorigin=https://"+document.domain,!0,!0,!1),document.querySelector(".spread-parent").classList.add("video-wrap"),document.querySelector(".card-title").classList.add("video-title"),document.querySelector(".editor-space").classList.add("video-space"),document.querySelector("#preview-iframe").scrolling="no"}.bind(this)).catch(function(i){this.getFilePreviewInfo(n,s,o,t,e)}.bind(this)):this.getFilePreviewInfo(n,s,o,t,e)}},getFilePreviewInfo:function(t,e,n,i,o){var a=this;if(e)filePreview("GET",getDocsDomain(t)+"/prvsvl/"+n.docs_resource_id+"?extn="+n.extension).then(function(t){if(t&&(t=JSON.parse(t))&&-1!==t.previewStatus)if(t.previewUrl&&"VIDEO"!==n.file_type&&"ZIP"!==n.file_type){previewUrl=t.previewUrl;var e=t.permalink;a.setData("download_url",e),a.setPreviewData(previewUrl,!0,!0,!1)}else t.pubSubConfig?(i>1e4&&(i=1e4),setTimeout(function(){a.generatePreview(i+3e3,++o)},i)):(a.setData("download_url",""),a.setData("contentDownloading",!1));else a.setData("download_url",""),a.setData("contentDownloading",!1)}).catch(function(t){a.setData("download_url",""),a.setData("contentDownloading",!1)});else{var r=getExternalFileUrlForWD()+"/file/"+n.docs_resource_id;this.setPreviewData(r,!0,!0,!1),filePreview("GET",getExternalFileUrlForWD()+"/api/v1/downloadauth/"+n.docs_resource_id).then(function(t){t&&t.DOWNLOAD_LINK?(a.setData("download_url",t.DOWNLOAD_LINK),a.setData("contentDownloading",!1)):(a.setData("download_url",""),a.setData("contentDownloading",!1))}).catch(function(t){a.setData("download_url",""),a.setData("contentDownloading",!1)})}},setPreviewData:function(t,e,n,i){var o=this.getData("allFiles");if(o.length>0){var a=o[0];LyteComponent.set(a,"docs_preview_url",t)}this.setData("isIframeLoad",e),this.setData("hasPreview",n),this.setData("contentDownloading",i)}}),Lyte.Component.register("smart-content-recipe",{_template:'<template tag-name="smart-content-recipe">\n    <template is="if" value="{{hasResources}}"><template case="true">\n        <div id="resources-wrapper">\n            <multiple-resource-preview resources-array="{{resourcesArray}}">\n            </multiple-resource-preview>\n        </div>\n    </template></template>\n    <div id="recipe-info-container">\n        <div id="recipe-title">{{notecard.smartContent.name}}</div>\n        <template is="if" value="{{notecard.smartContent.writer}}"><template case="true">\n            <div id="recipe-author">{{translate("recipe.by")}} <b>{{notecard.smartContent.writer.name}}</b></div>\n        </template></template>\n        <div id="recipe-description"> {{notecard.smartContent.description}} </div>\n    </div>\n    <div id="ingredients-wrapper" style="{{background-color-style(ingredientColor)}}">\n        <div id="ingredients-text" class="recipe-title-text-div">{{translate("recipe.ingredients")}}</div>\n        <div id="ingredients-checklist">\n            <template is="for" items="{{notecard.smartContent.recipeIngredients}}" item="ingredient" index="index">\n                <div class="checkbox-item {{if(ingredient.checked, \'checked-item\', \'unchecked-item\')}} no-border">\n                    <div class="checkBox {{if(isWhite, \'white-checkbox\')}} {{if(ingredient.checked, \'checked\')}}"></div>\n                    <div class="ingredient-name">{{ingredient.text}}</div>\n                </div>\n            </template>\n        </div>\n    </div>\n    <div id="preparation-wrapper" style="{{background-color-style(&quot;#333333&quot;)}}">\n        <div id="preparation-text" class="recipe-title-text-div">{{translate("recipe.preparation")}}</div>\n        <template is="for" items="{{notecard.smartContent.recipeInstructions}}" item="instruction" index="index">\n            <div class="recipe-instruction">\n                <div class="instruction-count recipe-title-text-div" style="color:{{ingredientColor}}">{{instruction.instruction}}</div>\n                <div class="instruction-description">{{instruction.description}}</div>\n            </div>\n        </template>\n\n        <div class="thin-separator"></div>\n        <div id="source-wrapper">\n            <div class="source-text">{{translate("recipe.source")}}</div>\n            <a id="source-url" href="{{notecard.smartContent.url}}" target="_blank" rel="noopener noreferrer">{{notecard.smartContent.url}}</a>\n        </div>\n        <template is="if" value="{{notecard.smartContent.copyrightHolder}}"><template case="true">\n            <div id="copyright-info-wrapper">\n                <div id="copyright-label">{{translate("recipe.copyright")}}</div>\n                <div id="copyright-title">{{copyRightTitle}}</div>\n                <div id="license-info">{{notecard.smartContent.license}}</div>\n            </div>\n        </template></template>\n    </div>\n\n</template>\n<style>.thin-separator {\n    border-top: dotted 1px #666;\n    margin: 32px 12px;\n}\n\n#recipe-title {\n    font-size: 18px;\n    font-weight: bold;\n    text-align: center;\n    margin: 16px auto 8px;\n    font-family: \'Noto Sans\', sans-serif;\n}\n\n#recipe-info-container {\n    text-align: center;\n    margin: 0 5%;\n    font-family: \'Noto Sans\', sans-serif;\n}\n\n#recipe-description {\n    padding: 12px 12px 32px;\n    line-height: 1.75em;\n}\n\n.recipe-title-text-div {\n    margin: 24px 12px 16px;\n    font-weight: bold;\n    display: inline-block;\n    font-family: \'Noto Sans\', sans-serif;\n    font-size: 18px;\n}\n\n.instruction-description {\n    margin: 4px 12px;\n    line-height: 1.75em;\n    color: #eeeeee;\n}\n\n#source-wrapper * {\n    display: inline;\n}\n\n#source-wrapper {\n    margin: 32px 12px 16px;\n    text-align: left;\n    font-family: \'Noto Sans\', sans-serif;\n    word-break: break-word;\n}\n\n.source-text {\n    color: #999999;\n}\n\n#preparation-wrapper {\n    padding: 0 5%;\n    padding-bottom: 16px;\n    text-align: center;\n    color: #eeeeee!important;\n}\n\n.recipe-image {\n    width: 100%;\n    max-height: 400px;\n    position: relative;\n    height: 400px;\n    background-size: cover;\n    background-position: center;\n    ransition: all 0.3s ease;\n\t-webkit-transition: background 0.3s ease;\n\t-moz-transition: background 0.3s ease;\n\t-ms-transition: background 0.3s ease;\n\t-o-transition: background 0.3s ease;\n}\n\n.extraMarginTop {\n    margin-top: 32px;\n}\n\n#recipe-author {\n    margin: 8px auto 12px;\n    font-size: 14px;\n}\n\n#ingredients-wrapper {\n    text-align: center;\n}\n\n#ingredients-checklist {\n    text-align: left;\n    padding-bottom: 24px;\n}\n\n#preparation-text, .recipe-instruction {\n    text-align: left;\n}\n\n.instruction-count {\n    font-size: inherit;\n    margin: 20px 12px 0;\n}\n\n#resources-wrapper {\n    position: relative;\n}\n\n#copyright-info-wrapper {\n    text-align: left;\n    margin: 16px 12px 16px;\n    line-height: 1.75em;\n    opacity: 0.9;\n}\n\n#copyright-info-wrapper * {\n    margin: 8px auto 16px auto;\n    font-size: 14px;\n}\n\n#copyright-label, #copyright-title {\n    display: inline;\n    font-family: \'Noto Sans\', sans-serif;\n}\n\n#source-url {\n    margin-left: 8px;\n    text-decoration: underline;\n    color: inherit;\n}\n\n.ingredient-name {\n    max-width: calc(100% - 30px);\n}\n\n#ingredients-checklist .checkBox{\n    margin: 0.5em 8px 0 0!important;\n}\n\n.recipe-image::after {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    content: "";\n    background: transparent; /* For browsers that do not support gradients */\n    background: -webkit-linear-gradient(top, #212121 0%,transparent 44%,#212121 100%);\n    background: -o-linear-gradient(top, #212121 0%,transparent 44%,#212121 100%);\n    background: -moz-linear-gradient(top, #212121 0%,transparent 44%,#212121 100%);\n    background: linear-gradient(top, #212121 0%,transparent 44%,#212121 100%);\n    opacity: 0.5;\n}\n\n#ingredients-checklist .checkbox-item {\n    margin: 0 5%;\n}\n</style>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]}]}},default:{}},{type:"text",position:[3,1,0]},{type:"attr",position:[3,3]},{type:"if",position:[3,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]},{type:"text",position:[1,2,0]}]}},default:{}},{type:"text",position:[3,5,1]},{type:"attr",position:[5],attr:{style:{name:"style",helperInfo:{name:"background-color-style",args:["ingredientColor"]}}}},{type:"text",position:[5,1,0]},{type:"attr",position:[5,3,1]},{type:"for",position:[5,3,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"text",position:[1,3,0]}]},{type:"attr",position:[7],attr:{style:{name:"style",helperInfo:{name:"background-color-style",args:["'#333333'"]}}}},{type:"text",position:[7,1,0]},{type:"attr",position:[7,3]},{type:"for",position:[7,3],dynamicNodes:[{type:"attr",position:[1,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'color:'","ingredientColor"]}}}},{type:"text",position:[1,1,0]},{type:"text",position:[1,3,0]}]},{type:"text",position:[7,7,1,0]},{type:"attr",position:[7,7,3]},{type:"text",position:[7,7,3,0]},{type:"attr",position:[7,9]},{type:"if",position:[7,9],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,0]},{type:"text",position:[1,3,0]},{type:"text",position:[1,5,0]}]}},default:{}}],_observedAttributes:["copyRightTitle","ingredientColor","hasResources","resourcesArray"],data:function(){return{copyRightTitle:Lyte.attr("string",{default:""}),ingredientColor:Lyte.attr("string",{default:""}),hasResources:Lyte.attr("boolean",{default:!0}),resourcesArray:Lyte.attr("array",{default:[]})}},resourcesObserver:function(){var t,e=this.get("notecard"),n=e.smartContent.resources,i=!1;if(isValidObject(n)&&n.length>0){this.setData("hasResources",!0);for(var o=0;o<n.length;o++){var a;if(n[o].type.match(/text/))a=n[o].src;else{i||(t=o,i=!0);var r=n[o].src.split("://")[1];a=prependAPIPrefix("public/notecards/"+e.notecard_id+"/resources/"+r)+"?"+getznbcsr()}LyteComponent.set(n[o],"srcUrl",a),n[o].type.match(/image/)?LyteComponent.set(n[o],"isImage",!0):n[o].type.match(/video/)?LyteComponent.set(n[o],"isImage",!1):LyteComponent.set(n[o],"isImage",!0)}if(i){var s=n[t];Lyte.arrayUtils(n,"removeAt",t),Lyte.arrayUtils(n,"unshift",s)}this.setData("resourcesArray",n)}else this.setData("hasResources",!1)}.observes("notecard.smartContent.resources").on("init"),copyRightObserver:function(){var t=this.getData("notecard").smartContent,e=isValidObject(t.copyrightYear)?t.copyrightYear+", ":"",n=isValidObject(t.copyrightHolder)?t.copyrightHolder.name:"";this.setData("copyRightTitle",e+n)}.observes("notecard.smartContent.copyrightHolder","notecard.smartContent.copyrightYear").on("init"),ingredientObserver:function(){var t=this.getData("notecard"),e=t.smartContent.recipeThemeColor;this.setData("ingredientColor",isValidObject(e)?e:t.color)}.observes("notecard.smartContent.recipeThemeColor","notecard.color").on("init"),actions:{toggleRecipeCompletion:function(t){var e=t.checked;LyteComponent.set(t,"checked",!e),this.throwEvent("update")}}}),Lyte.Component.register("multiple-resource-preview",{_template:'<template tag-name="multiple-resource-preview">\n    <template is="if" value="{{selectedResource.isImage}}"><template case="true">\n        <div class="recipe-image" style="{{background-image-style(selectedResource.srcUrl)}}"> </div>\n    </template><template case="false">\n        <video class="recipe-video" controls="">\n            <source src="{{selectedResource.srcUrl}}" type="{{selectedResource.type}}">\n            <a href="{{selectedResource.srcUrl}}">{{translate("generalOption.previewUnavailable")}}</a>\n        </video>\n    </template></template>\n\n    <template is="if" value="{{showArrow}}"><template case="true">\n        <template is="if" value="{{expHandlers(hidePrevious,\'!\')}}"><template case="true">\n            <div id="prev-arrow" class="arrow-div" onclick="{{action(\'goToPrev\')}}" ontouchstart="{{action(\'goToPrev\')}}"></div>\n        </template></template>\n        <template is="if" value="{{expHandlers(hideNext,\'!\')}}"><template case="true">\n            <div id="next-arrow" class="arrow-div" onclick="{{action(\'goToNext\')}}" ontouchstart="{{action(\'goToNext\')}}"></div>\n        </template></template>\n        <div id="dots-container">\n            <template is="for" items="{{resourcesArray}}" item="resource" index="index">\n                <div class="resource-dot">\n                </div>\n            </template>\n        </div>\n    </template></template>\n\n</template>\n<style>.resource-dot {\n    background: rgba(0,0,0,0.50);\n    border-radius: 50%;\n    width: 7px;\n    height: 7px;\n    position: relative;\n    display: inline-block;\n    margin: 16px 1px 0;\n    box-shadow: 0 2px 4px 0 #FFFFFF;\n}\n\n#dots-container {\n    text-align: center;\n}\n\n#prev-arrow {\n    background-position: 0px 0px;\n    left: 32px;\n}\n\n#next-arrow {\n    background-position: -64px 0px;\n    right: 32px;\n}\n\n.arrow-div {\n    background-image: url("../icon-assets/arrow-img-next-prev.png");\n    height: 64px;\n    width: 64px;\n    position: absolute;\n    top: 50%;\n    margin-top: -32px;\n    cursor: pointer;\n    display: none;\n}\n\n#resources-wrapper:hover .arrow-div {\n    display: block;\n}\n</style>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"background-image-style",args:["selectedResource.srcUrl"]}}}}]},false:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"attr",position:[1,3]},{type:"text",position:[1,3,0]}]}},default:{}},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"attr",position:[5,1]},{type:"for",position:[5,1],dynamicNodes:[]}]}},default:{}}],_observedAttributes:["hidePrevious","hideNext","showArrow","selectedResource"],data:function(){return{hidePrevious:Lyte.attr("boolean",{default:!1}),hideNext:Lyte.attr("boolean",{default:!1}),showArrow:Lyte.attr("boolean",{default:!1}),selectedResource:Lyte.attr("object",{default:null})}},selectedResourceObserver:function(){var t=this.getData("selectedResource"),e=this.getData("resourcesArray"),n=e.indexOf(t);0===n?(this.setData("hidePrevious",!0),this.setData("hideNext",!1)):n===e.length-1?(this.setData("hidePrevious",!1),this.setData("hideNext",!0)):(this.setData("hidePrevious",!1),this.setData("hideNext",!1))}.observes("selectedResource"),resourcesArrayObserver:function(){this.getData("resourcesArray").length>1?this.setData("showArrow",!0):this.setData("showArrow",!1)}.observes("resourcesArray.[]").on("init"),didConnect:function(){var t=this.getData("resourcesArray");this.setData("selectedResource",t[0])},actions:{selectResource:function(t){this.setData("selectedResource",t)},goToNext:function(){var t=this.getData("selectedResource"),e=this.getData("resourcesArray"),n=e.indexOf(t);n<e.length-1&&this.setData("selectedResource",e[n+1])},goToPrev:function(){var t=this.getData("selectedResource"),e=this.getData("resourcesArray"),n=e.indexOf(t);n>0&&this.setData("selectedResource",e[n-1])}}}),Lyte.Component.register("image-editor-preview",{_template:'<template tag-name="image-editor-preview">\n\n    <div class="image-show-wrap {{wrapperClassName}}">\n        <div class="main-image-preview image-preview">\n            <span class="helper"></span>\n            <img id="photo-in-view" src="{{mainImage}}">\n        </div>\n\n        <div class="image-preview left-image-preview">\n            <template is="if" value="{{leftImage}}"><template case="true">\n                <span class="helper"></span>\n                <img src="{{leftImage}}">\n            </template></template>\n        </div>\n\n        <div class="image-preview right-image-preview">\n            <template is="if" value="{{rightImage}}"><template case="true">\n                <span class="helper"></span>\n                <img src="{{rightImage}}">\n            </template></template>\n        </div>\n\n        <div class="left-image-nav">\n            <template is="if" value="{{showLeftNavigation}}"><template case="true">\n                <div class="sub-nav-icon left-image-icon left-image-nav" onclick="{{action(\'moveFrameLeft\')}}" ontouchstart="{{action(\'moveFrameLeft\')}}">\n                </div>\n            </template></template>\n        </div>\n\n        <div class="all-images-wrapper">\n            <div class="all-images" id="scroll-all-image">\n                <template is="for" items="{{allImages}}" item="image" index="index">\n                    <div class="image thumbnail" onclick="{{action(\'changeImage\', image)}}" ontouchstart="{{action(\'changeImage\', image)}}">\n                        <template is="if" value="{{expHandlers(image,\'!==\',mainImage)}}"><template case="true">\n                           <div class="overlay"></div>\n                        </template></template>\n                        <img src="{{image}}">\n                    </div>\n                </template>\n            </div>\n        </div>\n\n        <div class="right-image-nav">\n            <template is="if" value="{{showRightNavigation}}"><template case="true">\n                <div class="sub-nav-icon right-image-icon right-image-nav" onclick="{{action(\'moveFrameRight\')}}" ontouchstart="{{action(\'moveFrameRight\')}}">\n                </div>\n            </template></template>\n        </div>\n\n    </div>\n\n</template>\n<style>.image-show-wrap {\n\tposition: absolute;\n    top: 0;\n    bottom: 0;\n    width: 100%;\n    text-align: center;\n}\n\n.image-show {\n\tmax-width: 98%;\n    max-height: 99%;\n    vertical-align: middle;\n}\n\n.image-preview {\n    position: absolute;\n    top: 80px;\n    bottom: 136px;\n\twidth: 100%;\n    text-align: center;\n}\n\n.right-image-preview {\n    margin-left: 100%;\n}\n\n.left-image-preview {\n    margin-left: -100%;\n    margin-right: 100%;\n}\n\n.image-preview .helper {\n    height: 100%;\n    vertical-align: middle;\n    display: inline-block;\n}\n\n.image-preview img {\n    max-width: 98%;\n    max-height: 99%;\n    vertical-align: middle;\n}\n\n.all-images-wrapper {\n    position: absolute;\n    bottom: 32px;\n    right: 0;\n    left: 0;\n\theight: 48px;\n    padding-left: 75px;\n    padding-right: 75px;\n    z-index: 10;\n}\n\n.all-images {\n    overflow-x: scroll;\n    overflow-y: hidden;\n    height: 65px;\n    text-align: center;\n    white-space: nowrap;\n\t-webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    -webkit-overflow-scrolling: touch;\n}\n\n.image {\n    width: 48px;\n    display: inline-block;\n    margin: 0 8px;\n    z-index: 1;\n    position: relative;\n}\n\n.image img {\n    max-width: 48px;\n    max-height: 48px;\n}\n\n.image .overlay {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(0, 0, 0, 0.5)!important;;\n}\n\n.add-description {\n    position: absolute;\n    top: 50%;\n    font-size: 18px;\n    text-align: center;\n    color: #CCC;\n    left: 50%;\n    margin-top: -55px;\n    margin-left: -105px;\n}\n\n.left-image-nav {\n    position: absolute;\n    left: 0;\n    bottom : 32px;\n    width: 75px;\n    height: 50px;\n    z-index: 11;\n    display: inline-block;\n}\n\n.right-image-nav {\n    position: absolute;\n    right: 0;\n    bottom : 32px;\n    width: 75px;\n    height: 50px;\n    z-index: 11;\n    display: inline-block;\n}\n\n.left-image-nav .left-image-icon {\n    -webkit-transform: rotate(180deg);\n    transform: rotate(180deg);\n    position: absolute;\n    left: 0;right: 0;bottom: 0;top: 0;\n    margin: auto;\n    background-size: 40px 80px;\n    background-position: 0px 40px;\n    width : 40px;\n    height: 40px;\n    cursor: pointer;\n}\n\n.right-image-nav .right-image-icon {\n    position: absolute;\n    left: 0;right: 0;bottom: 0;top: 0;\n    margin: auto;\n    background-size: 40px 80px;\n    background-position: 0px 40px;\n    width : 40px;\n    height: 40px;\n    cursor: pointer;\n}\n\n.right-image-nav .right-image-icon:hover {\n    opacity: 0.8;\n    background-position: 0px 40px;\n}\n\n.left-image-nav .left-image-icon:hover {\n    opacity: 0.8;\n    background-position: 0px 40px;\n}\n\n.image-loading {\n    position: absolute;\n    top : 60px;\n    bottom: 45px;\n    left: 0;right: 0;\n    margin : auto;\n    width: 100%;\n    z-index: 1;\n}\n\n.thumbnail-loading {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    margin : auto;\n    background-color: #000000;\n}\n\n.all-images::-webkit-scrollbar { display: none; }\n.all-images::-o-scrollbar { display: none; }\n\n#image-content {\n\toverflow: hidden;\n}\n\n/* Smartphones ----------- */\n@media screen and (max-device-width : 767px) {\n    .image-show-wrap {\n\t\tbottom: 40px;\n\t}\n}\n\n/* iPads (portrait) ----------- */\n@media (min-device-width: 768px) and (orientation: portrait) {\n\t.image-show-wrap {\n\t\tbottom: 40px;\n\t}\n\n}\n</style>',_dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,3]},{type:"attr",position:[1,3,1]},{type:"if",position:[1,3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[3]}]}},default:{}},{type:"attr",position:[1,5,1]},{type:"if",position:[1,5,1],cases:{true:{dynamicNodes:[{type:"attr",position:[3]}]}},default:{}},{type:"attr",position:[1,7,1]},{type:"if",position:[1,7,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"attr",position:[1,9,1,1]},{type:"for",position:[1,9,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[]}},default:{}},{type:"attr",position:[1,3]}]},{type:"attr",position:[1,11,1]},{type:"if",position:[1,11,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}}],_observedAttributes:["showLeftNavigation","showRightNavigation","mainImage","wrapperClassName","allImages","changeImageTo"],data:function(){return{showLeftNavigation:Lyte.attr("boolean",{default:!1}),showRightNavigation:Lyte.attr("boolean",{default:!1}),mainImage:Lyte.attr("string",{default:""}),wrapperClassName:Lyte.attr("string",{default:""}),allImages:Lyte.attr("array",{default:[]}),changeImageTo:Lyte.attr("string",{default:""})}},didConnect:function(){var t=this;$("#scroll-all-image").scroll(function(){var e=document.getElementById("scroll-all-image");0===e.scrollLeft?t.setData("showLeftNavigation",!1):t.setData("showLeftNavigation",!0),e.offsetWidth+e.scrollLeft===e.scrollWidth?t.setData("showRightNavigation",!1):t.setData("showRightNavigation",!0)})},mainImageChanged:function(){var t=this.getData("changeImageTo");isValidString(t)&&this.animateImageChanges(t)}.observes("changeImageTo"),imagesChanged:function(){var t=this.getData("allImages"),e=$("#scroll-all-image").width();isValidString(e)&&64*t.length>e?this.setData("showRightNavigation",!0):this.setData("showRightNavigation",!1),"versionWrapper"===this.getData("wrapperClassName")&&this.resetImagePositions()}.observes("allImages.[]").on("init"),actions:{changeImage:function(t){this.animateImageChanges(t)},moveFrameLeft:function(){var t=$(".all-images").scrollLeft()-$(".all-images-wrapper").width();$(".all-images").animate({scrollLeft:t+"px"})},moveFrameRight:function(){var t=$(".all-images").scrollLeft(),e=$(".all-images-wrapper").width();$(".all-images").animate({scrollLeft:t+e+"px"})}},animateImageChanges:function(t){for(var e,n,i,o=this.getData("allImages"),a=this.getData("mainImage"),r=0;r<o.length;r++)o[r].indexOf(t)>-1&&(e=r,i=o[r]),o[r].indexOf(a)>-1&&(n=r);var s=this;this.resetImagePositions(),this.setData("leftImage",""),this.setData("rightImage","");let l=this.getData("wrapperClassName");setTimeout(function(){e>n?(s.setData("rightImage",i),$("."+l+" .right-image-preview").animate({"margin-left":0},{duration:300,queue:!1}),$("."+l+" .main-image-preview").animate({"margin-left":"-100%","margin-right":"100%"},{duration:300,queue:!1,complete:function(){s.setData("mainImage",i)}})):e<n&&(s.setData("leftImage",i),$("."+l+" .left-image-preview").animate({"margin-left":0,"margin-right":0},{duration:300,queue:!1}),$("."+l+" .main-image-preview").animate({"margin-left":"100%"},{duration:300,queue:!1,complete:function(){s.setData("mainImage",i)}}))},0)},resetImagePositions:function(){let t=this.getData("wrapperClassName");$("."+t+" .main-image-preview").css({"margin-left":"0","margin-right":"0"}),$("."+t+" .right-image-preview").css("margin-left","100%"),$("."+t+" .left-image-preview").css({"margin-left":"-100%","margin-right":"100%"})}}),Lyte.Component.register("file-grid-preview",{_template:'<template tag-name="file-grid-preview">\n\n\t<div class="file-grid-wrap {{if(operator(sizeLevel, \'===\', 0), \'level0\')}} {{if(operator(sizeLevel, \'===\', 1), \'level1\')}} {{if(operator(sizeLevel, \'===\', 2), \'level2\')}}" style="{{background-color-style(card.color, card.defaultColor, card.preview_bgcolor)}}">\n\n\t\t<template is="if" value="{{expHandlers(noName,\'!\')}}"><template case="true">\n\t\t\t<div class="grid-title file-grid-title" title="{{card.name}}">\n        \t\t{{card.name}}\n   \t \t\t</div>\n   \t\t</template></template>\n\n    \t<div class="grid-preview {{card.preview_class}}">\n\n    \t\t<template is="if" value="{{expHandlers(noExtension,\'!\')}}"><template case="true">\n    \t\t\t<div class="file-extension {{if(operator(sizeLevel, \'===\', 1), \'level1\')}}">\n        \t\t\t{{extension}}\n        \t\t</div>\n        \t</template></template>\n\n\t\t</div>\n\n\t</div>\n\n</template>\n<style>.file-grid-wrap {\n    position: relative;\n}\n\n.file-grid-wrap.level0 {\n    height: 212px;\n    width: 212px;\n}\n\n.file-grid-wrap.level1 {\n    height: 134px;\n    width: 134px;\n}\n\n.file-grid-wrap.level2 {\n    height: 100px;\n    width: 100px;\n}\n\n.file-grid-title {\n\tcolor : #FFFFFF;\n    z-index: 1;\n    padding: 8px 12px;\n}\n\n.grid-preview {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n}\n\n.file-extension {\n\tposition: absolute;\n    left: 0;\n    right: 0;\n    margin: auto;\n    bottom: 25%;\n    text-align: center;\n    color: #FFFFFF;\n}\n\n.file-extension.level1 {\n    font-size: 12px;\n}\n\n.file-createdtime {\n    margin-left: 12px;\n}\n\n.grid-preview.izip-file {\n    background-image: url("../icon-assets/File-Types/icn-file-zip.png");\n    background-size: cover;\n}\n\n.grid-preview.iaudio-file {\n    background-image: url("../icon-assets/File-Types/icn-file-audio.png");\n    background-size: cover;\n}\n\n.grid-preview.ipub-file {\n    background-image: url("../icon-assets/File-Types/icn-file-pdf.png");\n    background-size: cover;\n}\n\n.grid-preview.iimage-file {\n    background-image: url("../icon-assets/File-Types/icn-file-photo.png");\n    background-size: cover;\n}\n\n.grid-preview.ihtml-file {\n    background-image: url("../icon-assets/File-Types/icn-file-html.png");\n    background-size: cover;\n}\n\n.grid-preview.icode-file {\n    background-image: url("../icon-assets/File-Types/icn-file-programmable.png");\n    background-size: cover;\n}\n\n.grid-preview.ivideo-file {\n    background-image: url("../icon-assets/File-Types/icn-file-video.png");\n    background-size: cover;\n}\n\n.grid-preview.ipdf-file {\n    background-image: url("../icon-assets/File-Types/icn-file-pdf.png");\n    background-size: cover;\n}\n\n.grid-preview.ipresentation-file {\n    background-image: url("../icon-assets/File-Types/icn-file-presentation.png");\n    background-size: cover;\n}\n\n.grid-preview.ispreadsheet-file {\n    background-image: url("../icon-assets/File-Types/icn-file-xls.png");\n    background-size: cover\n}\n\n.grid-preview.idoc-file {\n    background-image: url("../icon-assets/File-Types/icn-file-doc.png");\n    background-size: cover;\n}\n\n.grid-preview.iunknown-file {\n    background-image: url("../icon-assets/File-Types/icn-file-unknown.png");\n    background-size: cover;\n}\n\n.grid-preview.ideleted-file {\n    background-image: url("../icon-assets/File-Types/icn-file-error.png");\n    background-size: cover;\n}\n</style>',_dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"background-color-style",args:["card.color","card.defaultColor","card.preview_bgcolor"]}}}},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]}]}},default:{}},{type:"attr",position:[1,3]},{type:"attr",position:[1,3,1]},{type:"if",position:[1,3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]}]}},default:{}}],_observedAttributes:["card","noName","noExtension","sizeLevel","extension"],data:function(){return{card:Lyte.attr("object"),noName:Lyte.attr("boolean",{default:!1}),noExtension:Lyte.attr("boolean",{default:!1}),sizeLevel:Lyte.attr("number",{default:0}),extension:Lyte.attr("string")}},init:function(){this.setExtension()},setExtension:function(){var t=this.getData("card");if(t&&t.embed_resources&&t.embed_resources.length>0){var e=t.embed_resources[0].extension;this.setData("extension",e)}}}),Lyte.Component.register("error-component",{_template:'<template tag-name="error-component">\n    <div id="container">\n        <div id="topbar">\n            <div class="notebook-icon">\n\t\t\t    <div id="notebook-logo"></div>\n\t\t    </div>\n        </div>\n        <div id="workspace">\n            <div id="error-title">{{translate("publicShare.defaultErrorTitle")}}</div>\n            <div id="error-description">{{translate("publicShare.defaultErrorDescription")}}</div>\n        </div>\n    </div>\n</template>\n<style>\n#container {\n\tposition: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background-color: #F7F7F7;\n\tfont-family: \'Open Sans\';\n}\n\n#topbar {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tbackground-color: #ffffff;\n\theight: 48px;\n\twidth: 100%;\n\n\tbox-shadow: 0px 1px 0px 0px rgba(0, 0, 0, 0.1);\n    -webkit-box-shadow: 0px 1px 0px 0px rgba(0, 0, 0, 0.1);\n    -moz-box-shadow: 0px 1px 0px 0px rgba(0, 0, 0, 0.1);\n}\n\n\n#error-title {\n\tcolor: #58595A;\n\ttext-align: center;\n\tfont-size: 42px;\n\tmargin: 32px;\n}\n\n#error-description {\n\tcolor: #58595A;\n\ttext-align: center;\n\tmargin: auto 12px;\n}\n\n#workspace {\n\tposition: absolute;\n\ttop: 0;\n\tbottom: 0;\n\tleft: 0;\n\tright: 0;\n\tmargin: auto;\n\tmax-width: 700px;\n\tmax-height: 300px;\n}\n\n@media screen and (max-device-width : 767px)  {\n    #error-title {\n\t\tfont-size: 26px;\n\t}\n}\n</style>',_dynamicNodes:[{type:"text",position:[1,3,1,0]},{type:"text",position:[1,3,3,0]}],data:function(){return{}}}),Lyte.Component.register("contact-note-view",{_template:'<template tag-name="contact-note-view">\n    <div class="spread-parent" id="contact-editor-wrap">\n        <div class="editor-space contact-editor">\n            <div id="contact-image-wrapper">\n                <div id="front-card-image" class="contact-card-image" style="{{background-image-style(frontImageUrl)}}"></div>\n                <div id="back-card-image" class="contact-card-image" style="{{background-image-style(backImageUrl)}}"></div>\n            </div>\n\n            <div id="contact-details-wrapper">\n                <div class="wrapper-div">\n                    <div id="first-name-div" class="input-div">\n                        <label>{{translate(\'contact.firstName\')}}</label>\n                        <div class="value-div">{{contactObject.firstName}}</div>\n                    </div>\n                    <div id="last-name-div" class="input-div">\n                        <label>{{translate(\'contact.lastName\')}}</label>\n                        <div class="value-div">{{contactObject.lastName}}</div>\n                    </div>\n                </div>\n\n                <div id="jobs-div" class="wrapper-div">\n                    <template is="for" items="{{contactObject.jobs}}" item="job" index="index">\n                        <div class="input-div job-div">\n                            <label> {{translate(\'contact.job\')}} </label>\n                            <div class="value-div">{{job}}</div>\n                        </div>\n                    </template>\n                </div>\n\n                <div id="organizations-div" class="wrapper-div">\n                    <template is="for" items="{{contactObject.organizations}}" item="organization" index="index">\n                        <div class="input-div organization-div">\n                            <label> {{translate(\'contact.organization\')}} </label>\n                            <div class="value-div">{{organization}}</div>\n                        </div>\n                    </template>\n                </div>\n\n                <div id="numbers-div" class="wrapper-div">\n                    <template is="for" items="{{contactObject.numbers}}" item="number" index="index">\n                        <div class="input-div number-div">\n                            <label> {{translate(\'contact.phone\')}} </label>\n                            <div class="value-div">{{number}}</div>\n                        </div>\n                    </template>\n                </div>\n\n                <div id="emails-div" class="wrapper-div">\n                    <template is="for" items="{{contactObject.emails}}" item="email" index="index">\n                        <div class="input-div email-div">\n                            <label> {{translate(\'contact.email\')}} </label>\n                            <div class="value-div">{{email}}</div>\n                        </div>\n                    </template>\n                </div>\n\n                <div id="websites-div" class="wrapper-div">\n                    <template is="for" items="{{contactObject.websites}}" item="website" index="index">\n                        <div class="input-div website-div">\n                            <label> {{translate(\'contact.website\')}} </label>\n                            <div class="value-div">{{website}}</div>\n                        </div>\n                    </template>\n                </div>\n\n                <div id="addresses-div" class="wrapper-div">\n                    <template is="for" items="{{contactObject.addresses}}" item="address" index="index">\n                        <div class="input-div street-div">\n                            <label> {{translate(\'contact.street\')}} </label>\n                            <div class="value-div">{{address.street}}</div>\n                        </div>\n                        <div class="input-div city-div">\n                            <label> {{translate(\'contact.city\')}} </label>\n                            <div class="value-div">{{address.city}}</div>\n                        </div>\n                        <div class="input-div region-div">\n                            <label> {{translate(\'contact.state\')}} </label>\n                            <div class="value-div">{{address.region}}</div>\n                        </div>\n                        <div class="input-div country-div">\n                            <label> {{translate(\'contact.country\')}} </label>\n                            <div class="value-div">{{address.country}}</div>\n                        </div>\n                        <div class="input-div code-div">\n                            <label> {{translate(\'contact.zip\')}} </label>\n                            <div class="value-div">{{address.code}}</div>\n                        </div>\n                    </template>\n                </div>\n\n                <div id="socials-div" class="wrapper-div">\n                    <template is="for" items="{{contactObject.socialnetworks}}" item="socialnetwork" index="index">\n                        <div class="input-div social-div">\n                            <label> {{translate(\'contact.social\')}} </label>\n                            <div class="value-div">{{socialnetwork}}</div>\n                        </div>\n                    </template>\n                </div>\n\n                <div id="notes-div" class="wrapper-div">\n                    <div class="input-div notes-div">\n                        <label> {{translate(\'contact.notes\')}} </label>\n                        <div class="value-div">{{contactObject.notes}}</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    </div>\n\n</template>\n<style>.contact-editor {\n\tcolor: inherit;\n    overflow: auto;\n    position: absolute;\n    width: 100%;\n    top: 0;\n    left: 0;\n    -ms-overflow-style: none;  /* IE 10+ */\n    /* overflow: -moz-scrollbars-none;  /* Firefox */\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.contact-editor::-webkit-scrollbar {\n    display: none;  /* Safari and Chrome */\n}\n\n#contact-details-wrapper::-webkit-scrollbar {\n\tdisplay: none;  /* Safari and Chrome */\n}\n\n.contact-editor .close {\n\tposition: absolute;\n    top: 0;\n    right: 8px;\n    z-index: 12;\n\n    width: 24px;\n    height: 24px;\n    margin: 16px;\n}\n\n#contact-image-wrapper, #contact-details-wrapper {\n\tposition: absolute;\n    top: 0;\n    bottom: 0;\n    overflow: auto;\n}\n\n#contact-image-wrapper {\n\twidth: 40%;\n    left: 5%\n}\n\n#contact-details-wrapper {\n\tright: 5%;\n    left: 45%;\n}\n\n.input-div {\n\tposition: relative;\n    border-bottom: solid 1px rgba(0, 0, 0, 0.1);\n}\n\n.contact-card-image {\n\twidth: 90%;\n\tposition: relative;\n\tmargin: 24px 0;\n\theight: 180px;\n\tbackground-size: cover;\n\tbackground-repeat: no-repeat;\n}\n\n.input-div label {\n\tcolor: inherit;\n    opacity: 0.25;\n\tfont-size: 11pt;\n\tposition: relative;\n\tfont-family: Open Sans;\n\tpointer-events: none;\n\tdisplay: block;\n\ttransition: 0.2s ease all;\n\t-moz-transition: 0.2s ease all;\n\t-webkit-transition: 0.2s ease all;\n\tmargin: 10px 0;\n}\n\n.value-div {\n\tmargin: 10px 0;\n}\n\n.wrapper-div {\n\tmargin: 40px 0;\n}\n\n.wrapper-div:first-child {\n\tmargin: 0;\n}\n\n#contact-editor-wrap {\n\tleft: 64px;\n\tright: 64px;\n}\n</style>',_dynamicNodes:[{type:"attr",position:[1,1,1,1],attr:{style:{name:"style",helperInfo:{name:"background-image-style",args:["frontImageUrl"]}}}},{type:"attr",position:[1,1,1,3],attr:{style:{name:"style",helperInfo:{name:"background-image-style",args:["backImageUrl"]}}}},{type:"text",position:[1,1,3,1,1,1,0]},{type:"text",position:[1,1,3,1,1,3,0]},{type:"text",position:[1,1,3,1,3,1,0]},{type:"text",position:[1,1,3,1,3,3,0]},{type:"attr",position:[1,1,3,3,1]},{type:"for",position:[1,1,3,3,1],dynamicNodes:[{type:"text",position:[1,1,1]},{type:"text",position:[1,3,0]}]},{type:"attr",position:[1,1,3,5,1]},{type:"for",position:[1,1,3,5,1],dynamicNodes:[{type:"text",position:[1,1,1]},{type:"text",position:[1,3,0]}]},{type:"attr",position:[1,1,3,7,1]},{type:"for",position:[1,1,3,7,1],dynamicNodes:[{type:"text",position:[1,1,1]},{type:"text",position:[1,3,0]}]},{type:"attr",position:[1,1,3,9,1]},{type:"for",position:[1,1,3,9,1],dynamicNodes:[{type:"text",position:[1,1,1]},{type:"text",position:[1,3,0]}]},{type:"attr",position:[1,1,3,11,1]},{type:"for",position:[1,1,3,11,1],dynamicNodes:[{type:"text",position:[1,1,1]},{type:"text",position:[1,3,0]}]},{type:"attr",position:[1,1,3,13,1]},{type:"for",position:[1,1,3,13,1],dynamicNodes:[{type:"text",position:[1,1,1]},{type:"text",position:[1,3,0]},{type:"text",position:[3,1,1]},{type:"text",position:[3,3,0]},{type:"text",position:[5,1,1]},{type:"text",position:[5,3,0]},{type:"text",position:[7,1,1]},{type:"text",position:[7,3,0]},{type:"text",position:[9,1,1]},{type:"text",position:[9,3,0]}]},{type:"attr",position:[1,1,3,15,1]},{type:"for",position:[1,1,3,15,1],dynamicNodes:[{type:"text",position:[1,1,1]},{type:"text",position:[1,3,0]}]},{type:"text",position:[1,1,3,17,1,1,1]},{type:"text",position:[1,1,3,17,1,3,0]}],_observedAttributes:["notecard","contactObject","frontImageUrl","backImageUrl"],data:function(){return{notecard:Lyte.attr("object",{default:{}}),contactObject:Lyte.attr("object",{default:{}}),frontImageUrl:Lyte.attr("string",{default:""}),backImageUrl:Lyte.attr("string",{default:""})}},contentObserver:function(){this.parseContactNote()}.observes("notecard.contentXML"),didConnect:function(){this.setData("showEditorOverlay",!1),this.parseContactNote()},parseContactNote:function(){var t=this.getData("notecard"),e=parseContactZnote(t.contentXML,t.notecard_id);this.setData("contactObject",e);var n=findBy(e.cardImages,"type","front");if(isValidObject(n)&&-1!==n){var i=getResourceDownloadUrl(t.notecard_id,n.resource_id)+"?"+getznbcsr();this.setData("frontImageUrl",i)}var o=findBy(e.cardImages,"type","back");if(isValidObject(o)&&-1!==o){i=getResourceDownloadUrl(t.notecard_id,o.resource_id)+"?"+getznbcsr();this.setData("backImageUrl",i)}}},{mixins:["card-util"]}),Lyte.Component.register("alert-box",{_template:'<template tag-name="alert-box">\n\n\t<div id="alert-box" class="alert-box-wrap">\n\t\t<div class="alert-box-container">\n\t\t\t<div id="alert-message">\n\t\t\t</div>\n\t\t\t<div class="alert-buttons">\n\t\t\t\t<div class="buttons first" id="cancel-button" onclick="{{action(\'cancel\')}}">\n\t\t\t\t</div>\n\t\t\t\t<div class="buttons" id="proceed-button" onclick="{{action(\'proceed\')}}">\n\t\t\t\t</div>\n\t\t\t\t<div class="buttons" id="ok-button" onclick="{{action(\'cancel\')}}">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n</template>\n<style>.alert-box-wrap {\n\tposition: absolute;\n\ttop: -125%;\n\tbottom: 0;\n\tright: 0;\n\tleft: 0;\n\tmax-width: 400px;\n    max-height: 150px;\n\tmargin: auto;\n\tfont-size: 16px;\n\tz-index: 1000011;\n\topacity: 0;\n\n\t-webkit-transition: top 300ms linear, opacity 300ms linear;\n\t-moz-transition: top 300ms linear, opacity 300ms linear;\n\t-o-transition: top 300ms linear, opacity 300ms linear;\n\t-ms-transition: top 300ms linear, opacity 300ms linear;\n\ttransition: top 300ms linear, opacity 300ms linear;\n}\n\n.alert-box-wrap.center {\n\ttop: 0;\n\topacity: 1;\n}\n\n.alert-box-wrap.movedown {\n\ttop: 100%;\n\topacity: 0;\n}\n\n.alert-box-wrap.moveup {\n\ttop: -125%;\n\topacity: 0;\n}\n\n.alert-box-container {\n\tbackground-color: #FFFFFF;\n}\n\n#alert-message {\n\tpadding: 25px 50px;\n    line-height: 24px;\n    text-align: center;\n}\n\n.alert-buttons {\n    position: relative;\n}\n\n.alert-buttons .buttons {\n\tpadding: 12px 0;\n\twidth: 50%;\n\ttext-align: center;\n/*\tborder-right: 1px solid #F0F0F0;*/\n    border-top: 1px solid #F0F0F0;\n    cursor: pointer;\n    display: block;\n    box-sizing: border-box;\n}\n\n.alert-buttons .first {\n    border-right: solid 1px #F0F0F0;\n}\n\n.alert-buttons .buttons:hover {\n\tbackground-color: #F7F7F7;\n}\n\n\n.alert-buttons #cancel-button {\n\tposition: absolute;\n    left: 0;\n    color: #808080;\n}\n\n.alert-buttons #proceed-button {\n\tposition: relative;\n    left: 50%;\n    color: #F0483E;\n}\n\n.buttons.hide {\n\tdisplay: none;\n}\n\n#ok-button {\n\tposition: relative;\n\twidth: 100%! important;\n\tborder-top: 1px solid #F0F0F0;\n\tcolor: #808080;\n    left: 0%;\n}\n\n\n.dimmer.show {\n    opacity: 1;\n    visibility: visible;\n}\n\n#dimmer-for-alert {\n    z-index: 100003;\n}\n</style>',_dynamicNodes:[{type:"attr",position:[1,1,3,1]},{type:"attr",position:[1,1,3,3]},{type:"attr",position:[1,1,3,5]}],_observedAttributes:["dimmerListenerId","globalEventListeners"],data:function(){return{dimmerListenerId:Lyte.attr("string"),globalEventListeners:Lyte.attr("array",{default:[]})}},didConnect:function(){var t,e=document.getElementById("alert-box");(t=transitionEndSupport())&&e.addEventListener(t,function(t){"top"===t.propertyName&&e.classList.contains("movedown")&&resetAlertClass()}),dimmerListenerId=Lyte.addEventListener("alertDimmerClick",function(t){cancelAlert()}),this.setData("dimmerListenerId",dimmerListenerId),addEventListenerTo(this.getData("globalEventListeners"),Lyte.addEventListener("enter",function(t){if(t.preventDefault(),document.querySelector("#alert-box.alert-box-wrap").classList.contains("center"))return okAlert(),!1})),addEventListenerTo(this.getData("globalEventListeners"),Lyte.addEventListener("escKey",function(t){t.preventDefault(),cancelAlert()}))},didDestroy:function(){removeGlobalEventListners(this.getData("globalEventListeners"))},actions:{cancel:function(){cancelAlert()},proceed:function(){okAlert()}}}),Lyte.Component.register("report-abuse-dialog",{_template:'<template tag-name="report-abuse-dialog">\n\t<div id="report-abuse-container">\n\t\t<div id="report-abuse-title">\n\n\t\t\t<div class="report-abuse-back" onclick="{{action(\'close\')}}">{{translate("options.cancel")}}</div>\n\n\t\t\t<span>{{translate("generalOption.reportAbuse")}}</span>\n\n\t\t\t<template is="if" value="{{isSendingMail}}"><template case="true">\n\t\t\t\t<div class="report-abuse-button sending show">{{translate("options.sending")}}</div>\n\t\t\t</template><template case="false">\n\t\t\t\t<div id="report-abuse-send" class="report-abuse-button show" onclick="{{action(\'reportViaEmail\')}}">{{translate("options.send")}}</div>\n\t\t\t</template></template>\n\t\t</div>\n\t\t<div id="from-field" class="report-field" onfocusout="{{action(\'validateFromField\')}}">\n\t\t\t\t<div id="report-id-label">{{translate("email.email")}} :</div>\n\n\t\t\t\t<template is="if" value="{{invalidUserEmail}}"><template case="true">\n\t\t\t\t\t<div class="choosen-contact invalid-email">\n\t\t\t\t\t\t{{fromValue}}\n\t\t\t\t\t\t<div class="inote-option cancel-mark inote-option-white iclose-dim" onclick="{{action(\'removeMail\')}}">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template><template case="false">\n\t\t\t\t\t<div class="user-report-field input">\n\t\t\t\t\t\t<div class="text-input report-abuse-input" id="email-id" contenteditable="true" onkeyup="{{action(\'setInput\',this)}}"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</template></template>\n\n\t     </div>\n\n\t\t <div id="subject-field" class="report-field" onfocusout="{{action(\'validateFromField\')}}">\n \t\t\t\t<div id="report-id-label">{{translate("email.subject")}} :</div>\n\n\t\t\t\t<div class="user-report-field input">\n\t\t\t\t\t<div class="text-input report-abuse-input" id="subject" contenteditable="true">{{translate("reportAbuse.subject")}}</div>\n\t\t\t\t</div>\n\n \t     </div>\n\n\t\t<div id="report-abuse-message" contenteditable="true" onkeydown="{{action(\'keyDownAction\', event)}}">\n\t\t\t<br>{{translate("reportAbuse.hiThere")}},<br>\n\t\t\t<br>{{translate("reportAbuse.reportContent")}}:<br>\n\t\t\t<br>{{reportLink}}<br>\n\t\t\t<br>{{translate("reportAbuse.thanks")}} <br>\n\t\t</div>\n\n\t</div>\n</template>\n<style>#report-abuse-container{\n\tposition: absolute;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    width: 500px;\n    height: 400px;\n    box-sizing: border-box;\n    margin: auto;\n    font-size: 16px;\n    overflow:auto;\n    color:#000;\n    z-index: 1000002;\n    font-family: \'Lato\' ! important;\n    background-color: #FFFFFF;\n    -webkit-transition: all 300ms linear;\n    -moz-transition: all 300ms linear;\n    -o-transition: all 300ms linear;\n    -ms-transition: all 300ms linear;\n    transition: all 300ms linear;\n    -webkit-box-shadow: 0 0 15px 0 rgba(0,0,0,.2);\n    -moz-box-shadow: 0 0 15px 0 rgba(0,0,0,.2);\n    box-shadow: 0 0 15px 0 rgba(0,0,0,.2);\n    border-radius: 4px;\n    box-shadow: 0px 0px 15px 0px rgba(0, 0, 0, 0.2);\n    -webkit-box-shadow: 0px 0px 15px 0px rgba(0, 0, 0, 0.2);\n    -moz-box-shadow: 0px 0px 15px 0px rgba(0, 0, 0, 0.2);\n}\n\n\n#report-abuse-container::-webkit-scrollbar{\n    display: none;\n}\n\n#report-abuse-title{\n\tline-height: 28px;\n    position: relative;\n    text-align: center;\n    padding: 12px 25px;\n    box-sizing: border-box;\n    font-size: 18px;\n    font-weight: 600;\n    border-bottom: 1px solid #e9e9e9;\n}\n\n#report-abuse-close{\n\tposition: absolute;\n    right: 0px;\n    top: 0px;\n}\n\n\n.report-abuse-input{\n    font-size: 14px;\n    border: none;\n    margin-left: 10px;\n    outline: none;\n}\n\n.report-field{\n    position: relative;\n\tword-break: break-word;\n    padding: 0 18px;\n    border-bottom: 1px solid #eee;\n\theight: 40px;\n}\n\n\n#report-abuse-container .user-report-field {\n\tdisplay: inline-block;\n    overflow: auto;\n    font-size: 14px!important;\n\theight: 40px;\n\tline-height: 40px;\n\twidth: 85%;\n}\n\n#report-abuse-container .user-report-field::-webkit-scrollbar {\n\tdisplay: none;\n}\n\n#report-abuseTo-label{\n    position: absolute;\n    color: grey;\n    top: 50%;\n    height: 20px;\n    font-size: 14px;\n    margin: -10px 0 0;\n    display: inline-block;\n}\n\n#report-abuse-message{\n\tz-index: auto;\n    position: relative;\n    line-height: normal;\n    font-size: 14px;\n    width:98%;\n    height:200px;\n    border:none;\n    outline: none;\n    transition: none;\n    padding:5px 20px;\n    box-sizing: border-box;\n    overflow: scroll;\n    background: transparent !important;\n}\n\n#report-abuse-message::-webkit-scrollbar{\n\tdisplay: none;\n}\n\n.report-abuse-button{\n\tposition: absolute;\n    right: 15px;\n    top: 10px;\n    height: 32px;\n    font-size: 14px;\n    line-height: 32px;\n    font-weight: 400;\n    opacity: 0.3;\n    width: 60px;\n    text-align: center;\n    color: #fff!important;\n    background-color: #3b9eff;\n    border-radius: 3px;\n    cursor: pointer;\n}\n\n.report-abuse-button.sending{\n    background-color: transparent!important;\n    color: #3b9eff!important;\n}\n\n.report-abuse-button.show{\n    opacity: 1 !important;\n}\n\n.report-abuse-back{\n\tposition: absolute;\n\ttop: 0;\n\tleft: 16px;\n\tmargin: 0px 0px! important;\n\tfont-weight: normal;\n\tfont-size: 14px;\n\tbottom: 0;\n\tline-height: 52px;\n\tcursor: pointer;\n}\n\n.highlight-report-abuse {\n    color: #000! important;\n}\n\n\n#success-toast{\n    color: #3b9eff;\n    text-align: center;\n    box-sizing: border-box;\n    padding: 25% 10%;\n}\n\n#report-id-label {\n\tdisplay: inline-block;\n\tline-height: 40px;\n\theight: 40px;\n\tmargin: 0;\n\tvertical-align: top;\n}\n\n.choosen-contact {\n\tposition: relative;\n    left: 10px;\n    z-index: 2;\n    line-height: 23px;\n    padding-left: 10px;\n    padding-bottom: 2px;\n    padding-right: 15px;\n    margin-right: 8px;\n    margin-top: 7px;\n    display: inline-block;\n    cursor: pointer;\n    border-radius: 13px;\n    background-color: #F5F5F5;\n    border: 1px solid #E1E1E1;\n}\n\n.choosen-contact.invalid-email {\n\tbackground-color: #900;\n    color: #FFFFFF;\n}\n\n.choosen-contact .cancel-mark {\n\tposition: relative;\n    top: 7px;\n    left: 5px;\n    width: 12px;\n    height: 12px;\n    float: right;\n    margin: 0;\n    background-position: -95px 0px;\n    background-size: 213px 24px;\n}\n\n.cancel-mark.iclose-dark:hover,.cancel-mark.iclose-dim:hover {\n    background-position: -95px -36px!important;\n}\n\n.inote-option {\n    width: 24px;\n    height: 24px;\n    background-size: 648px 48px;\n    cursor: pointer;\n}\n\n.inote-option.inote-option-white {\n    background-image: url("../icon-assets/sprite-icn-note-options-white.png");\n}\n\n.inote-option.inote-option-black {\n    background-image: url("../icon-assets/sprite-icn-note-options.png");\n}\n\n.inote-option.idownload-dim {\n    background-position: -336px -24px;\n}\n\n.inote-option.idownload-dim:hover {\n    background-position: -336px 0;\n}\n\n\n@media only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1) {\n\t.inote-option.inote-option-white {\n        background-image: url("../icon-assets/sprite-icn-note-options-white@2x.png");\n    }\n\n\t.inote-option.inote-option-black {\n        background-image: url("../icon-assets/sprite-icn-note-options@2x.png");\n    }\n}\n\n/* Smartphones ----------- */\n@media screen and (max-device-width : 767px) {\n    #report-abuse-container {\n        width: 100%!important;\n    }\n\n\t#report-abuse-container .user-report-field {\n\t\tmax-width: 75%;\n\t    text-overflow: ellipsis;\n\t    overflow: hidden;\n\t}\n}\n\n/* iPads (portrait) ----------- */\n@media (min-device-width: 768px) and (orientation: portrait) {\n\n    #report-abuse-container {\n        width: 100%!important;\n    }\n\n\t#report-abuse-container .user-report-field {\n\t\tmax-width: 75%;\n\t    text-overflow: ellipsis;\n\t    overflow: hidden;\n\t}\n}\n</style>',_dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"text",position:[1,1,1,0]},{type:"text",position:[1,1,3,0]},{type:"attr",position:[1,1,5]},{type:"if",position:[1,1,5],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[1,3]},{type:"text",position:[1,3,1,0]},{type:"attr",position:[1,3,3]},{type:"if",position:[1,3,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,1]},{type:"attr",position:[1,3]}]},false:{dynamicNodes:[{type:"attr",position:[1,1]}]}},default:{}},{type:"attr",position:[1,5]},{type:"text",position:[1,5,1,0]},{type:"text",position:[1,5,3,1,0]},{type:"attr",position:[1,7]},{type:"text",position:[1,7,2]},{type:"text",position:[1,7,7]},{type:"text",position:[1,7,12]},{type:"text",position:[1,7,17]}],_observedAttributes:["subject","notecard","reportLink","invalidUserEmail","fromValue","isSendingMail","globalEventListeners"],data:function(){return{subject:Lyte.attr("string"),notecard:Lyte.attr("object"),reportLink:Lyte.attr("string",{default:window.location.href}),invalidUserEmail:Lyte.attr("boolean",{default:!1}),fromValue:Lyte.attr("string",{default:""}),isSendingMail:Lyte.attr("boolean",{default:!1}),globalEventListeners:Lyte.attr("array",{default:[]})}},didConnect:function(){makeInputFieldFocus("#from-field .text-input"),this.setData("fromValue",""),addEventListenerTo(this.getData("globalEventListeners"),Lyte.addEventListener("enter",function(t){if("report-abuse-message"===t.target.id)return document.execCommand("insertHTML",!1,"<br><br>"),!1}))},resetEmailField:function(){this.setData("fromValue",""),this.setData("isSendingMail",!1),this.setData("invalidUserEmail",!1)},actions:{close:function(){this.resetEmailField(),this.throwEvent("reportAbuse")},setInput:function(t){var e=this;setTimeout(function(){e.setData("fromValue",t.innerText)},0)},removeMail:function(){this.resetEmailField()},validateFromField:function(){this.validateFromEmail()},reportViaEmail:function(){if(this.getData("invalidUserEmail"))return this.setData("isSendingMail",!1),void showAlert(translate.toastMessage.enterValidMail,!1,null,translate.options.okay,"#808080");this.setData("isSendingMail",!0);var t=this.getData("fromValue");if(!isValidString(t))return this.setData("isSendingMail",!1),void showAlert(translate.toastMessage.enterValidMail,!1,null,translate.options.okay,"#808080");t=t.trim();var e=document.getElementById("subject"),n=e.innerText?e.innerText:e.textContent;isValidString(n)||(n=translate.reportAbuse.subject);var i={sender:t,subject:n,content:document.getElementById("report-abuse-message").innerHTML.trim().replace(/<br>/g,"\r\n")},o=new FormData;o.append("JSONString",JSON.stringify(i));var a=this;reportAbuseNR(o).then(function(t){"success"===JSON.parse(t).status.toLowerCase()?(a.resetEmailField(),a.throwEvent("reportAbuse"),displayToast(translate.toastMessage.reportSuccess)):(a.setData("isSendingMail",!1),showAlert(translate.toastMessage.reportAbuseFailed,!1,null,translate.options.okay,"#808080"))}).catch(function(t){a.setData("isSendingMail",!1),showAlert(translate.toastMessage.reportAbuseFailed,!1,null,translate.options.okay,"#808080")})},keyDownAction:function(t){switch(t.keyCode){case 13:Lyte.triggerEvent("enter",t)}}},validateFromEmail:function(){var t=this.getData("fromValue");validateEmail(t.trim())?this.setData("invalidUserEmail",!1):isValidString(t)?this.setData("invalidUserEmail",!0):this.setData("invalidUserEmail",!1)}});